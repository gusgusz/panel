"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[5672],{6210:function(e,n,s){s(7313);var t=s(3035),r=s(3108),a=s(1179),c=s(502),l=s(6417);n.Z=function(e){var n=e.size,s=void 0===n?"":n,i=e.className,o=void 0===i?"mt-3 mb-3":i,d=e.totalPage,u=void 0===d?0:d,m=e.currentPage,x=void 0===m?1:m,h=e.numberLimit,p=void 0===h?5:h,f=e.lastIsActive,j=void 0===f||f,g=e.firstIsActive,N=void 0===g||g,b=e.onChangePage,v=1,$=p;p>u?(v=1,$=u):x<=parseInt(p/2,10)?(v=1,$=p):x+parseInt(p/2,10)<=u?(v=x-parseInt(p/2,10),$=x+parseInt(p/2,10)):(v=u-(p-1),$=u);for(var Z=[],y=v=0===v?1:v;y<=$;y+=1)Z.push(y);var S=x<=1?"disabled":"",w=x>=u?"disabled":"",F=x<=1?"disabled":"",C=x>=u?"disabled":"";return u>-1?(0,l.jsx)(c.F,{xxs:"12",className:o,children:(0,l.jsxs)(t.Z,{className:"pagination".concat(s?"-".concat(s):""," justify-content-center sm"),children:[N&&(0,l.jsx)(r.Z,{className:"page-item ".concat(S),children:(0,l.jsx)(a.Z,{className:"page-link first c-pointer",onClick:function(){return b(1)},children:(0,l.jsx)("i",{className:"simple-icon-control-start"})})}),(0,l.jsx)(r.Z,{className:"page-item ".concat(F),children:(0,l.jsx)(a.Z,{className:"page-link prev c-pointer",onClick:function(){return b(x-1)},children:(0,l.jsx)("i",{className:"simple-icon-arrow-left"})})}),Z.map((function(e){return(0,l.jsx)(r.Z,{className:"page-item ".concat(x===e&&"active"),children:(0,l.jsx)(a.Z,{className:"page-link c-pointer",onClick:function(){return b(e)},children:e})},e)})),(0,l.jsx)(r.Z,{className:"page-item ".concat(C),children:(0,l.jsx)(a.Z,{className:"page-link next c-pointer",onClick:function(){return b(x+1)},children:(0,l.jsx)("i",{className:"simple-icon-arrow-right"})})}),j&&(0,l.jsx)(r.Z,{className:"page-item ".concat(w),children:(0,l.jsx)(a.Z,{className:"page-link last c-pointer",onClick:function(){return b(u)},children:(0,l.jsx)("i",{className:"simple-icon-control-end"})})})]})}):(0,l.jsx)(c.F,{xxs:"12",className:"mt-2"})}},9659:function(e,n,s){var t=s(7313),r=s(1179),a=s(1969),c=s(935),l=s(6417),i=function(e){var n=e.children,s=e.isOpen,i=e.setIsOpen,o=(0,t.useRef)();return(0,t.useEffect)((function(){}),[s]),(0,l.jsxs)("div",{ref:o,className:"app-menu ".concat(s?"shown":""),children:[n,(0,l.jsx)(r.Z,{className:"app-menu-button d-inline-block",onClick:function(){return i(!s)},children:(0,l.jsx)(a.G,{icon:s?c.cLY:c.UXu})})]})};n.Z=t.memo(i)},557:function(e,n,s){var t=s(1413),r=(s(7313),s(3598)),a=s(6417);n.Z=function(e){var n=(0,t.Z)({},e);return delete n.autoCorrect,delete n.autoCapitalize,(0,a.jsx)(r.c.Input,(0,t.Z)({},n))}},5672:function(e,n,s){s.r(n),s.d(n,{default:function(){return C}});var t=s(885);s(6430),s(2632),s(8569),s(8995),s(5033);var r=s(7313),a=s(6231),c=s(4382),l=s(7338),i=s(1422),o=s(8065),d=s(7199),u=s(502),m=s(816),x=s.n(m),h=s(7823),p=(s(9625),s(9257)),f=s(7936),j=s(4229),g=s.n(j),N=s(9659),b=s(3605),v=s(557),$=s(6417),Z=function(e){var n=e.onSearch,s=e.loading,a=r.useState(!1),c=(0,t.Z)(a,2),l=c[0],i=c[1],o=r.useState([]),d=(0,t.Z)(o,2),u=d[0],m=d[1],x=r.useState(void 0),p=(0,t.Z)(x,2),j=p[0],Z=p[1],y=r.useState(""),S=(0,t.Z)(y,2),w=S[0],F=S[1],C=function(){n({franchise_id:j?null===j||void 0===j?void 0:j.value:void 0,term:w})};return r.useEffect((function(){h.ZP.get("/franchises").then((function(e){m(e.data)}))}),[]),(0,$.jsx)(N.Z,{isOpen:l,setIsOpen:i,children:(0,$.jsx)(g(),{options:{suppressScrollX:!0,wheelPropagation:!1},children:(0,$.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()},target:"#",children:(0,$.jsxs)("div",{className:"p-4",children:[" ",(0,$.jsx)("p",{className:"text-muted text-small mb-2",children:"Buscar"}),(0,$.jsx)("div",{className:"list-unstyled mb-5",children:(0,$.jsx)("input",{type:"text",placeholder:"",value:w,onChange:function(e){return F(e.target.value)},class:"form-control mb-2"})}),(0,$.jsx)("p",{className:"text-muted text-small mb-2",children:"Franquia"}),(0,$.jsx)("div",{className:"list-unstyled mb-5",children:(0,$.jsx)(b.ZP,{placeholder:"Selecione",isClearable:!0,components:{Input:v.Z},className:"react-select",classNamePrefix:"react-select",name:"franchise",value:j,defaultValue:j,onChange:function(e){return Z(e)},options:u.map((function(e){return{value:e.id,label:e.name}}))})}),(0,$.jsx)("ul",{className:"list-unstyled mb-2",children:(0,$.jsxs)(f.Z,{onClick:C,type:"submit",color:"success",disabled:s,className:" btn-block btn-multiple-state ".concat(s?"show-spinner":""),size:"lg",children:[(0,$.jsxs)("span",{className:"spinner d-inline-block",children:[(0,$.jsx)("span",{className:"bounce1"}),(0,$.jsx)("span",{className:"bounce2"}),(0,$.jsx)("span",{className:"bounce3"})]}),(0,$.jsx)("span",{className:"label",children:"BUSCAR"})]})})]})})})})},y=r.memo(Z),S=s(4410),w=s(6210),F=function(e){var n,s,m,f,j,g,N;!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var b=r.useContext(S.FeedbackContext),v=r.useState(0),Z=(0,t.Z)(v,2),F=Z[0],C=Z[1],T=r.useState({}),k=(0,t.Z)(T,2),D=k[0],A=k[1],P=r.useState({}),I=(0,t.Z)(P,2),M=(I[0],I[1]),_=r.useState([]),E=(0,t.Z)(_,2),O=E[0],R=E[1],z=r.useState(!1),L=(0,t.Z)(z,2),U=(L[0],L[1]),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b.useLoading(!0,"Por favor aguarde! Carregando relat\xf3rio..."),U(!0),h.ZP.get("/my-finances",{params:e}).then((function(e){A(e.data.cards),R(e.data.rows),M(e.data.more),b.useLoading(!1),U(!1)})).catch((function(e){b.useLoading(!1),b.useError(!0,"Oops! N\xe3o foi poss\xedvel consultar dados! Tente novamente"),console.log(e)}))},q=function(e){return"PAID"===e?{label:"PAGO",color:"success"}:"USED"===e?{label:"USADO",color:"success"}:"PENDING"===e?{label:"AGUARDANDO",color:"warning"}:{label:"CANCELADO",color:"danger"}};return r.useEffect((function(){Y()}),[]),(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(c.Z,{className:"",children:[(0,$.jsxs)(u.F,{xxs:"12",children:[(0,$.jsx)("div",{className:"ml-0 d-flex flex-column mb-4",children:(0,$.jsx)("h1",{className:"pb-0 mb-0 font-weight-bold",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:(0,$.jsx)("span",{children:" Meu Financeiro"})})}),(0,$.jsxs)(c.Z,{children:[(0,$.jsx)(u.F,{xs:"12",sm:"6",lg:"4",md:"4",className:"icon-row-item mb-4",children:(0,$.jsx)(l.Z,{children:(0,$.jsxs)(i.Z,{className:"text-center",children:[(0,$.jsx)("i",{style:{fontSize:35,color:"#97368D"},className:"iconsminds-clock-forward"}),(0,$.jsx)("p",{className:"card-text font-weight-semibold mb-4",children:"Pagamentos Pendentes"}),(0,$.jsxs)("p",{style:{color:"#97368D"},className:"lead text-center",children:["R$ ",(0,p.ky)(null!==(n=D.pay_pending)&&void 0!==n?n:0,!0)]})]})})}),(0,$.jsx)(u.F,{xs:"12",sm:"6",lg:"4",md:"4",className:"icon-row-item mb-4",children:(0,$.jsx)(l.Z,{children:(0,$.jsxs)(i.Z,{className:"text-center",children:[(0,$.jsx)("i",{style:{fontSize:35,color:"#97368D"},className:"iconsminds-handshake"}),(0,$.jsx)("p",{className:"card-text font-weight-semibold mb-4",children:"Pagamentos Efetivados"}),(0,$.jsxs)("p",{style:{color:"#97368D"},className:"lead text-center",children:["R$ ",(0,p.ky)(null!==(s=D.pay_paid)&&void 0!==s?s:0,!0)]})]})})}),(0,$.jsx)(u.F,{xs:"12",sm:"6",lg:"4",md:"4",className:"icon-row-item mb-4",children:(0,$.jsx)(l.Z,{children:(0,$.jsxs)(i.Z,{className:"text-center",children:[(0,$.jsx)("i",{style:{fontSize:35,color:"#97368D"},className:"iconsminds-coins"}),(0,$.jsx)("p",{className:"card-text font-weight-semibold mb-4",children:"Total em pagamentos"}),(0,$.jsxs)("p",{style:{color:"#97368D"},className:"lead text-center",children:["R$ ",(0,p.ky)(null!==(m=D.pay_amount)&&void 0!==m?m:0,!0)]})]})})}),(0,$.jsx)(u.F,{xs:"12",sm:"6",lg:"4",md:"4",className:"icon-row-item mb-4",children:(0,$.jsx)(l.Z,{children:(0,$.jsxs)(i.Z,{className:"text-center",children:[(0,$.jsx)("i",{style:{fontSize:35,color:"orange"},className:"iconsminds-inbox-into"}),(0,$.jsx)("p",{className:"card-text font-weight-semibold mb-4",children:"Solicita\xe7\xf5es"}),(0,$.jsx)("p",{style:{color:"orange"},className:"lead text-center",children:(0,p.FA)(null!==(f=D.requests)&&void 0!==f?f:0)})]})})}),(0,$.jsx)(u.F,{xs:"12",sm:"6",lg:"4",md:"4",className:"icon-row-item mb-4",children:(0,$.jsx)(l.Z,{children:(0,$.jsxs)(i.Z,{className:"text-center",children:[(0,$.jsx)("i",{style:{fontSize:35,color:"#97368D"},className:"iconsminds-financial"}),(0,$.jsx)("p",{className:"card-text font-weight-semibold mb-4",children:"Solicita\xe7\xf5es atendidas"}),(0,$.jsx)("p",{style:{color:"#97368D"},className:"lead text-center",children:(0,p.FA)(null!==(j=D.requests_success)&&void 0!==j?j:0)})]})})}),(0,$.jsx)(u.F,{xs:"12",sm:"6",lg:"4",md:"4",className:"icon-row-item mb-4",children:(0,$.jsx)(l.Z,{children:(0,$.jsxs)(i.Z,{className:"text-center",children:[(0,$.jsx)("i",{style:{fontSize:35,color:"green"},className:"iconsminds-money-bag"}),(0,$.jsx)("p",{className:"card-text font-weight-semibold mb-4",children:"Moedas usadas"}),(0,$.jsx)("p",{style:{color:"green"},className:"lead text-center",children:(0,p.FA)(null!==(g=D.coins_used)&&void 0!==g?g:0)})]})})})]}),(0,$.jsx)(c.Z,{children:(0,$.jsx)(u.F,{xxs:"12",xl:"12",className:"mb-5",children:(0,$.jsx)(l.Z,{style:{width:"100%"},children:(0,$.jsxs)(i.Z,{children:[(0,$.jsx)(o.Z,{children:"Resumo"}),(0,$.jsx)(c.Z,{children:(0,$.jsx)(u.F,{xxs:"12",xl:"12",children:(0,$.jsxs)(a.iA,{children:[(0,$.jsx)(a.hr,{children:(0,$.jsxs)(a.Tr,{children:[(0,$.jsx)(a.Th,{children:"#"}),(0,$.jsx)(a.Th,{children:"Franquia"}),(0,$.jsx)(a.Th,{children:"Prestador"}),(0,$.jsx)(a.Th,{children:"Descric\xe3o"}),(0,$.jsx)(a.Th,{children:"Cliente"}),(0,$.jsx)(a.Th,{className:"text-center",children:"Dt. Cria\xe7\xe3o"}),(0,$.jsx)(a.Th,{className:"text-center",children:"Moedas"}),(0,$.jsx)(a.Th,{className:"text-center",children:"Servi\xe7os"}),(0,$.jsx)(a.Th,{className:"text-center",children:"Pre\xe7o"}),(0,$.jsx)(a.Th,{className:"text-center",children:"Situ\xe7\xe3o"})]})}),(0,$.jsx)(a.p3,{children:null===O||void 0===O||null===(N=O.slice(20*F,20*F+20))||void 0===N?void 0:N.map((function(e){var n,s,t;return(0,$.jsxs)(a.Tr,{className:"mb-1",children:[(0,$.jsx)(a.Td,{children:e.id}),(0,$.jsx)(a.Td,{children:(0,$.jsx)("strong",{children:null!==(n=null===e||void 0===e?void 0:e.franchise)&&void 0!==n?n:"-"})}),(0,$.jsx)(a.Td,{children:(0,$.jsx)("strong",{children:null!==(s=null===e||void 0===e?void 0:e.provider_name)&&void 0!==s?s:"-"})}),(0,$.jsx)(a.Td,{style:{textAlign:"left"},children:(0,$.jsx)($.Fragment,{children:e.note})}),(0,$.jsx)(a.Td,{style:{textAlign:"left"},children:(0,$.jsx)($.Fragment,{children:null!==(t=e.customer_name)&&void 0!==t?t:"-"})}),(0,$.jsx)(a.Td,{className:"text-center",children:x()(e.created_at).utc().subtract(4,"hours").format("DD/MM/YYYY HH:mm")}),(0,$.jsx)(a.Td,{className:"text-center font-weight-bold",children:(0,p.FA)(e.coins)}),(0,$.jsx)(a.Td,{className:"text-center font-weight-bold",children:(0,p.FA)(e.amount)}),(0,$.jsx)(a.Td,{className:"text-center font-weight-bold",children:e.price?(0,$.jsxs)($.Fragment,{children:["R$ ",(0,p.ky)(e.price,!0)]}):"-"}),(0,$.jsx)(a.Td,{className:"text-center",children:(0,$.jsx)(d.Z,{pill:!0,color:q(e.status).color,children:q(e.status).label})})]},"finance-".concat(e.id))}))})]})})})]})})})})]}),O.length>20?(0,$.jsx)(w.Z,{className:"mt-3 mb-0",size:"sm",currentPage:F+1,totalPage:Math.ceil((null===O||void 0===O?void 0:O.length)/20),onChangePage:function(e){C(e-1)}}):null]}),(0,$.jsx)(y,{onSearch:Y})]})},C=r.memo(F)},9257:function(e,n,s){s.d(n,{f_:function(){return t},ky:function(){return c},mQ:function(){return l},FA:function(){return i},yD:function(){return o},ao:function(){return x},nO:function(){return h},HW:function(){return p}});s(7757),s(1881);var t=function(e){return r(e)||a(e)?e:parseFloat(e.toString().replace(/\./g,"").replace(/\,/g,"."))},r=function(e){return Number(e)===e&&e%1===0},a=function(e){return Number(e)===e&&e%1!==0},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e||(e=0),n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var t=(e=new String(Number(e))).length;return 1==t?e=e.replace(/(\d)/,"0,0$1"):2==t?e=e.replace(/(\d)/,"0,$1"):t>2&&t<6?e=e.replace(/(\d{2})$/,",$1"):t>=6&&t<9?e=e.replace(/(\d{3})(\d{2})$/,".$1,$2"):t>=9&&(e=e.replace(/(\d{3})(\d{3})(\d{2})$/,".$1.$2,$3")),"".concat(s?"".concat(s," "):"").concat(e)},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cpf",s=d(e);return parseInt(e)||r(s)||a(s)?"CPF"===n.toUpperCase()?u(s.toString().substr(0,11)):m(s.toString().substr(0,14)):e.toString().substr(0,14)},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0);var s=e<0;n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var t=(e=new String(Number(e))).length;return 1==t||2==t||3==t?e=e.replace(/(\d)/,"$1"):4==t?e=e.replace(/(\d{1})(\d{3})$/,"$1.$2"):5==t?e=e.replace(/(\d{2})(\d{3})$/,"$1.$2"):6==t?e=e.replace(/(\d{3})(\d{3})$/,"$1.$2"):7==t?e=e.replace(/(\d{1})(\d{3})(\d{3})$/,"$1.$2.$3"):8==t?e=e.replace(/(\d{2})(\d{3})(\d{3})$/,"$1.$2.$3"):9==t?e=e.replace(/(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3"):10==t?e=e.replace(/(\d{1})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):11==t?e=e.replace(/(\d{2})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):12==t?e=e.replace(/(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):t>12&&(e=e.replace(/(\d)(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4.$5")),"".concat(s?"- ":"").concat(e)},o=function(e){return 10===(e=d(e)).length?e.replace(/(\d{2})(\d{4})(\d{4})/g,"($1) $2-$3"):e.substr(0,11).replace(/(\d{2})(\d{1})(\d{4})(\d{4})/g,"($1) $2 $3-$4")};function d(e){return"string"!==typeof e&&(e="".concat(e)),e.replace(/\D/g,"")}function u(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}function m(e){return e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5")}var x=function(e){if(e)return d(e).toString().substr(0,8).replace(/(\d{5})(\d{3})/g,"$1-$2")};function h(e){var n,s=0;if("00000000000"==(e=d(e)))return!1;for(var t=1;t<=9;t++)s+=parseInt(e.substring(t-1,t))*(11-t);if(10!=(n=10*s%11)&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return!1;s=0;for(var r=1;r<=10;r++)s+=parseInt(e.substring(r-1,r))*(12-r);return 10!=(n=10*s%11)&&11!=n||(n=0),n==parseInt(e.substring(10,11))}function p(e){if(""==(e=e.replace(/[^\d]+/g,"")))return!1;if(14!=e.length)return!1;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var n=e.length-2,s=e.substring(0,n),t=e.substring(n),r=0,a=n-7,c=n;c>=1;c--)r+=s.charAt(n-c)*a--,a<2&&(a=9);var l=r%11<2?0:11-r%11;if(l!=t.charAt(0))return!1;n+=1,s=e.substring(0,n),r=0,a=n-7;for(var i=n;i>=1;i--)r+=s.charAt(n-i)*a--,a<2&&(a=9);return(l=r%11<2?0:11-r%11)==t.charAt(1)}},7199:function(e,n,s){var t=s(7462),r=s(3366),a=s(7313),c=s(5192),l=s.n(c),i=s(6123),o=s.n(i),d=s(8345),u=["className","cssModule","color","innerRef","pill","tag"],m={color:l().string,pill:l().bool,tag:d.iC,innerRef:l().oneOfType([l().object,l().func,l().string]),children:l().node,className:l().string,cssModule:l().object},x=function(e){var n=e.className,s=e.cssModule,c=e.color,l=e.innerRef,i=e.pill,m=e.tag,x=(0,r.Z)(e,u),h=(0,d.mx)(o()(n,"badge","badge-"+c,!!i&&"badge-pill"),s);return x.href&&"span"===m&&(m="a"),a.createElement(m,(0,t.Z)({},x,{className:h,ref:l}))};x.propTypes=m,x.defaultProps={color:"secondary",pill:!1,tag:"span"},n.Z=x},8065:function(e,n,s){var t=s(7462),r=s(3366),a=s(7313),c=s(5192),l=s.n(c),i=s(6123),o=s.n(i),d=s(8345),u=["className","cssModule","tag"],m={tag:d.iC,className:l().string,cssModule:l().object},x=function(e){var n=e.className,s=e.cssModule,c=e.tag,l=(0,r.Z)(e,u),i=(0,d.mx)(o()(n,"card-title"),s);return a.createElement(c,(0,t.Z)({},l,{className:i}))};x.propTypes=m,x.defaultProps={tag:"div"},n.Z=x}}]);