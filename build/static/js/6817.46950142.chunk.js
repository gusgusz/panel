"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[6817],{8803:function(e,n,r){r.d(n,{Z:function(){return g}});var s=r(2982),t=r(1413),i=r(5671),a=r(3144),c=r(136),l=r(8557),o=r(7313),d=r(4759),u=r.n(d),p=(r(5911),r(6417)),h=r(4389),x={iconFiletypes:[],showFiletypeIcon:!0,postUrl:"https://httpbin.org/post"},m={maxFiles:1,uploadMultiple:!1,thumbnailHeight:160,maxFilesize:2,maxFileSize:2,parallelUploads:1,dictDefaultMessage:"Clique aqui ou arraste para anexar",dictFileTooBig:"Seu arquivo \xe9 muito grande!",dictInvalidFileType:"Tipo de arquivo inv\xe1lido",dictMaxFilesExceeded:"S\xf3 \xe9 permitido anexar 1 (um) arquivo",renameFilename:function(e){return e.replace(/[^\w\s]/gi,"")},previewTemplate:h.renderToStaticMarkup((0,p.jsxs)("div",{className:"dz-preview dz-file-preview mb-3",children:[(0,p.jsxs)("div",{className:"d-flex flex-row ",children:[(0,p.jsxs)("div",{className:"p-0 w-30 position-relative",children:[(0,p.jsx)("div",{className:"dz-error-mark",children:(0,p.jsxs)("span",{children:[(0,p.jsx)("i",{})," "]})}),(0,p.jsx)("div",{className:"dz-success-mark",children:(0,p.jsx)("span",{children:(0,p.jsx)("i",{})})}),(0,p.jsxs)("div",{className:"preview-container",children:[(0,p.jsx)("img",{"data-dz-thumbnail":!0,className:"img-thumbnail border-0"}),(0,p.jsx)("i",{className:"simple-icon-doc preview-icon"})]})]}),(0,p.jsxs)("div",{className:"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative",children:[(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{"data-dz-name":!0})," "]}),(0,p.jsx)("div",{className:"text-primary text-extra-small","data-dz-size":!0}),(0,p.jsx)("div",{className:"dz-progress",children:(0,p.jsx)("span",{className:"dz-upload","data-dz-uploadprogress":!0})}),(0,p.jsx)("div",{className:"dz-error-message",children:(0,p.jsx)("span",{"data-dz-errormessage":!0})})]})]}),(0,p.jsxs)("a",{href:"#/",className:"remove","data-dz-remove":!0,children:[(0,p.jsx)("i",{className:"glyph-icon simple-icon-trash",style:{fontSize:"14px"}})," "]})]})),headers:{"My-Awesome-Header":"header value"}},g=function(e){(0,c.Z)(r,e);var n=(0,l.Z)(r);function r(){return(0,i.Z)(this,r),n.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,p.jsx)(u(),{config:x,djsConfig:(0,t.Z)((0,t.Z)({},m),this.props.dropzoneConfig),eventHandlers:{uploadprogress:function(){return e.props.setFileUploading(!0)},success:function(n){e.props.setFiles([].concat((0,s.Z)(e.props.files),[n])),e.props.setFileUploading(!1)},removedfile:function(n){return e.props.setFiles(e.props.files.filter((function(e){return e.upload.uuid!==n.upload.uuid})))},init:function(n){e.myDropzone=n}}})}}]),r}(o.Component)},9610:function(e,n,r){r.r(n),r.d(n,{default:function(){return k}});var s=r(5861),t=r(885),i=r(7757),a=r.n(i),c=(r(6430),r(2632),r(8569),r(8995),r(5033),r(7313)),l=r(6231),o=r(4382),d=r(7338),u=r(1422),p=r(7199),h=r(4105),x=r(7936),m=r(595),g=r(5951),f=r(2588),v=r(2995),j=r(2756),b=r(2213),$=r(7764),Z=r(502),N=r(7623),y=r(3673),S=r(7823),w=r(9625),F=r(4410),C=(r(8803),r(5517),r(9257)),z=r(6417),T=function(){var e=c.useContext(F.FeedbackContext),n=c.useState(""),r=(0,t.Z)(n,2),i=r[0],T=r[1],k=c.useState(""),A=(0,t.Z)(k,2),P=A[0],L=A[1],M=c.useState(""),q=(0,t.Z)(M,2),D=q[0],E=q[1],I=c.useState(""),_=(0,t.Z)(I,2),R=_[0],U=_[1],H=c.useState(""),O=(0,t.Z)(H,2),B=O[0],W=O[1],Q=c.useState(!0),V=(0,t.Z)(Q,2),Y=V[0],G=V[1],J=c.useState(!1),K=(0,t.Z)(J,2),X=K[0],ee=K[1],ne=c.useState([]),re=(0,t.Z)(ne,2),se=re[0],te=re[1],ie=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{n&&e.useLoading(!0,"Carregando..."),S.ZP.get("/plans").then((function(n){te(n.data),e.useLoading(!1)}))}catch(r){console.log("erro"),e.useLoading(!1)}},ae=function(){var n=(0,s.Z)(a().mark((function n(r){var s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&r.preventDefault(),e.useLoading(!0,"Salvando registro..."),n.prev=2,s={name:P,coins:D,services:R,price:(0,C.f_)(B),is_actived:Y},!i){n.next=9;break}return n.next=7,S.ZP.put("/plans/".concat(i),s);case 7:n.next=11;break;case 9:return n.next=11,S.ZP.post("/plans",s);case 11:e.useSuccess(!0,"Registro salvo com sucesso"),ie(!1),ee(!1),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(2),console.log("erro ao cadastrar"),e.useLoading(!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})));return function(e){return n.apply(this,arguments)}}(),ce=function(){T(""),L(""),E(""),U(""),W(""),G(!0),ee(!0)};return c.useEffect((function(){ie()}),[]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(o.Z,{children:(0,z.jsxs)(Z.F,{xxs:"12",children:[(0,z.jsxs)("h1",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:["Planos/Pacotes",(0,w.rc)("PLANS","STORE",(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("span",{style:{},className:"d-flex",children:(0,z.jsx)(x.Z,{color:"success",onClick:function(){return ce()},children:"Adicionar"})})}))]}),(0,z.jsxs)(o.Z,{children:[(0,z.jsx)(Z.F,{xxs:"12",xl:"12",className:"mb-5",children:(0,z.jsx)(d.Z,{style:{width:"100%"},children:(0,z.jsx)(u.Z,{children:(0,z.jsx)(o.Z,{children:(0,z.jsx)(Z.F,{xxs:"12",xl:"12",children:(0,z.jsxs)(l.iA,{children:[(0,z.jsx)(l.hr,{children:(0,z.jsxs)(l.Tr,{children:[(0,z.jsx)(l.Th,{style:{width:150},children:"Nome"}),(0,z.jsx)(l.Th,{style:{textAlign:"center"},children:"Moedas"}),(0,z.jsx)(l.Th,{style:{textAlign:"center"},children:"Servi\xe7os"}),(0,z.jsx)(l.Th,{style:{textAlign:"center"},children:"Pre\xe7o"}),(0,z.jsx)(l.Th,{style:{textAlign:"center"},children:"Status"}),(0,z.jsx)(l.Th,{className:"d-flex",style:{alignItems:"center",justifyContent:"right"}})]})}),(0,z.jsx)(l.p3,{children:se.map((function(n){return(0,z.jsxs)(l.Tr,{className:"mb-1",id:"PLANS-".concat(n.id),children:[(0,w.rc)("PLANS","UPDATE",(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(l.Td,{onClick:function(){return function(e){T(e.id),L(e.name),E(e.coins),U(e.services),W((0,C.ky)(e.price,!0)),G(e.is_actived),ee(!0)}(n)},className:"btn-link",children:n.name})}),(0,z.jsx)(l.Td,{children:n.name})),(0,z.jsx)(l.Td,{className:"text-center",children:n.coins}),(0,z.jsx)(l.Td,{className:"text-center",children:n.services}),(0,z.jsxs)(l.Td,{className:"text-center",children:["R$ ",(0,C.ky)(n.price,!0)]}),(0,z.jsx)(l.Td,{style:{textAlign:"center"},children:(0,z.jsx)(p.Z,{className:"highlighter",pill:!0,color:n.is_actived?"success":"warning",children:n.is_actived?"Ativo":"Inativo"})}),(0,z.jsx)(l.Td,{className:"d-flex",style:{alignItems:"center",justifyContent:"right"},children:(0,z.jsxs)(m.Z,{size:"xs",children:[(0,w.rc)("PLANS","DISABLE-ENABLE",(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(x.Z,{id:"btn2-".concat(n.id),color:"warning",onClick:function(){return function(n,r){e.useConfirmAlert(!0,"Tem certeza que deseja ".concat(r?"desativar":"ativar"," esse registro?"),(0,s.Z)(a().mark((function s(){return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.useLoading(!0,"Atualizando registro..."),s.next=3,S.ZP.put("/plans/".concat(n),{is_actived:!r});case 3:e.useSuccess(!0,"Registro atualizado com sucesso"),ie(!1);case 5:case"end":return s.stop()}}),s)}))))}(n.id,n.is_actived)},children:[(0,z.jsx)("div",{className:"glyph-icon iconsminds-power"}),(0,z.jsx)(y.Z,{id:"btn2-".concat(n.id),text:n.is_actived?"Desativar":"Ativar"})]})})),(0,w.rc)("PLANS","DESTROY",(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(x.Z,{id:"btn3-".concat(n.id),color:"danger",onClick:function(){return function(n){e.useConfirmAlert(!0,"Todos os registros relacionados ser\xe3o removidos! Tem certeza que deseja continuar?",(0,s.Z)(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.useLoading(!0,"Excluindo registro..."),r.next=3,S.ZP.delete("/plans/".concat(n));case 3:e.useSuccess(!0,"Registro deletado com sucesso"),ie(!1);case 5:case"end":return r.stop()}}),r)}))))}(n.id)},children:[(0,z.jsx)("div",{className:"glyph-icon simple-icon-trash"}),(0,z.jsx)(y.Z,{id:"btn3-".concat(n.id),text:"Remover"})]})}))]})})]})}))})]})})})})})}),(0,z.jsx)(Z.F,{xss:"12",className:"text-center  ",children:0===se.length?(0,z.jsx)("small",{children:(0,z.jsx)("strong",{children:"Nenhum registro encontrado"})}):null})]})]})}),(0,z.jsxs)(v.Z,{wrapClassName:"modal-right",size:"sm",isOpen:X,scrollable:!0,style:{minWidth:"30vw",width:"100%",minHeight:"100vh"},children:[(0,z.jsx)(j.Z,{children:"Categoria"}),(0,z.jsx)(b.Z,{children:(0,z.jsxs)("form",{onSubmit:ae,action:"#",children:[(0,z.jsxs)(o.Z,{children:[(0,z.jsx)(Z.F,{sm:"12",lg:"12",xs:"12",children:(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(g.Z,{className:"font-weight-bold",for:"name",children:"* Nome"}),(0,z.jsx)(f.Z,{required:!0,className:"form-control",type:"text",id:"name",value:P,onChange:function(e){return L(e.target.value)}})]})}),(0,z.jsx)(Z.F,{sm:"12",lg:"12",xs:"12",children:(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(g.Z,{className:"font-weight-bold",for:"coins",children:"* Moedas"}),(0,z.jsx)(f.Z,{required:!0,className:"form-control",type:"number",id:"coins",value:D,onChange:function(e){return E(e.target.value)}})]})}),(0,z.jsx)(Z.F,{sm:"12",lg:"12",xs:"12",children:(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(g.Z,{className:"font-weight-bold",for:"coins",children:"* Servi\xe7os"}),(0,z.jsx)(f.Z,{required:!0,className:"form-control",type:"number",id:"services",value:R,onChange:function(e){return U(e.target.value)}})]})}),(0,z.jsx)(Z.F,{sm:"12",lg:"12",xs:"12",children:(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(g.Z,{className:"font-weight-bold",for:"coins",children:"* Valor/Pre\xe7o"}),(0,z.jsx)(f.Z,{required:!0,className:"form-control",type:"text",id:"price",value:B,onChange:function(e){return W((0,C.ky)(e.target.value))}})]})})]}),(0,z.jsx)(o.Z,{children:(0,z.jsx)(Z.F,{sm:"12",children:(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(g.Z,{className:"font-weight-bold",for:"is_actived",children:"Ativo/Inativo"}),(0,z.jsx)(N.Z,{className:"custom-switch custom-switch-primary",checked:Y,onChange:function(e){return G(e)}})]})})}),(0,z.jsx)("button",{type:"submit",style:{display:"none"},id:"btnSubmitPlans"})]})}),(0,z.jsxs)($.Z,{style:{justifyContent:"end"},children:[(0,z.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(){return ee(!1)},children:"Fechar"}),(0,z.jsx)("button",{type:"submit",className:"btn btn-success btn-shadow btn-lg ",onClick:function(){return document.querySelector("#btnSubmitPlans").click()},children:"Salvar"})]})]})]})},k=c.memo(T)},5517:function(e,n,r){r.d(n,{Z:function(){return i}});var s=r(4621),t=r.n(s);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Erro";t()(n,e,{icon:"error"})}},9257:function(e,n,r){r.d(n,{f_:function(){return s},ky:function(){return a},mQ:function(){return c},FA:function(){return l},yD:function(){return o},ao:function(){return h},nO:function(){return x},HW:function(){return m}});r(7757),r(1881);var s=function(e){return t(e)||i(e)?e:parseFloat(e.toString().replace(/\./g,"").replace(/\,/g,"."))},t=function(e){return Number(e)===e&&e%1===0},i=function(e){return Number(e)===e&&e%1!==0},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e||(e=0),n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var s=(e=new String(Number(e))).length;return 1==s?e=e.replace(/(\d)/,"0,0$1"):2==s?e=e.replace(/(\d)/,"0,$1"):s>2&&s<6?e=e.replace(/(\d{2})$/,",$1"):s>=6&&s<9?e=e.replace(/(\d{3})(\d{2})$/,".$1,$2"):s>=9&&(e=e.replace(/(\d{3})(\d{3})(\d{2})$/,".$1.$2,$3")),"".concat(r?"".concat(r," "):"").concat(e)},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cpf",r=d(e);return parseInt(e)||t(r)||i(r)?"CPF"===n.toUpperCase()?u(r.toString().substr(0,11)):p(r.toString().substr(0,14)):e.toString().substr(0,14)},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0);var r=e<0;n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var s=(e=new String(Number(e))).length;return 1==s||2==s||3==s?e=e.replace(/(\d)/,"$1"):4==s?e=e.replace(/(\d{1})(\d{3})$/,"$1.$2"):5==s?e=e.replace(/(\d{2})(\d{3})$/,"$1.$2"):6==s?e=e.replace(/(\d{3})(\d{3})$/,"$1.$2"):7==s?e=e.replace(/(\d{1})(\d{3})(\d{3})$/,"$1.$2.$3"):8==s?e=e.replace(/(\d{2})(\d{3})(\d{3})$/,"$1.$2.$3"):9==s?e=e.replace(/(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3"):10==s?e=e.replace(/(\d{1})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):11==s?e=e.replace(/(\d{2})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):12==s?e=e.replace(/(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):s>12&&(e=e.replace(/(\d)(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4.$5")),"".concat(r?"- ":"").concat(e)},o=function(e){return 10===(e=d(e)).length?e.replace(/(\d{2})(\d{4})(\d{4})/g,"($1) $2-$3"):e.substr(0,11).replace(/(\d{2})(\d{1})(\d{4})(\d{4})/g,"($1) $2 $3-$4")};function d(e){return"string"!==typeof e&&(e="".concat(e)),e.replace(/\D/g,"")}function u(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}function p(e){return e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5")}var h=function(e){if(e)return d(e).toString().substr(0,8).replace(/(\d{5})(\d{3})/g,"$1-$2")};function x(e){var n,r=0;if("00000000000"==(e=d(e)))return!1;for(var s=1;s<=9;s++)r+=parseInt(e.substring(s-1,s))*(11-s);if(10!=(n=10*r%11)&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return!1;r=0;for(var t=1;t<=10;t++)r+=parseInt(e.substring(t-1,t))*(12-t);return 10!=(n=10*r%11)&&11!=n||(n=0),n==parseInt(e.substring(10,11))}function m(e){if(""==(e=e.replace(/[^\d]+/g,"")))return!1;if(14!=e.length)return!1;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var n=e.length-2,r=e.substring(0,n),s=e.substring(n),t=0,i=n-7,a=n;a>=1;a--)t+=r.charAt(n-a)*i--,i<2&&(i=9);var c=t%11<2?0:11-t%11;if(c!=s.charAt(0))return!1;n+=1,r=e.substring(0,n),t=0,i=n-7;for(var l=n;l>=1;l--)t+=r.charAt(n-l)*i--,i<2&&(i=9);return(c=t%11<2?0:11-t%11)==s.charAt(1)}},7199:function(e,n,r){var s=r(7462),t=r(3366),i=r(7313),a=r(5192),c=r.n(a),l=r(6123),o=r.n(l),d=r(8345),u=["className","cssModule","color","innerRef","pill","tag"],p={color:c().string,pill:c().bool,tag:d.iC,innerRef:c().oneOfType([c().object,c().func,c().string]),children:c().node,className:c().string,cssModule:c().object},h=function(e){var n=e.className,r=e.cssModule,a=e.color,c=e.innerRef,l=e.pill,p=e.tag,h=(0,t.Z)(e,u),x=(0,d.mx)(o()(n,"badge","badge-"+a,!!l&&"badge-pill"),r);return h.href&&"span"===p&&(p="a"),i.createElement(p,(0,s.Z)({},h,{className:x,ref:c}))};h.propTypes=p,h.defaultProps={color:"secondary",pill:!1,tag:"span"},n.Z=h},595:function(e,n,r){var s=r(7462),t=r(3366),i=r(7313),a=r(5192),c=r.n(a),l=r(6123),o=r.n(l),d=r(8345),u=["className","cssModule","size","vertical","tag"],p={tag:d.iC,"aria-label":c().string,className:c().string,cssModule:c().object,role:c().string,size:c().string,vertical:c().bool},h=function(e){var n=e.className,r=e.cssModule,a=e.size,c=e.vertical,l=e.tag,p=(0,t.Z)(e,u),h=(0,d.mx)(o()(n,!!a&&"btn-group-"+a,c?"btn-group-vertical":"btn-group"),r);return i.createElement(l,(0,s.Z)({},p,{className:h}))};h.propTypes=p,h.defaultProps={tag:"div",role:"group"},n.Z=h}}]);