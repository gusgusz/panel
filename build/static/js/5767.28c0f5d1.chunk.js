"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[5767],{5767:function(e,n,s){s.r(n),s.d(n,{default:function(){return E}});var t=s(5861),r=s(885),c=s(7757),i=s.n(c),a=(s(6430),s(2632),s(8569),s(8995),s(5033),s(7313)),l=s(6231),o=(s(5785),s(4382)),d=s(7338),u=s(1422),h=s(7199),x=s(4105),m=s(7936),j=s(595),f=s(5951),g=s(2588),v=s(2995),p=s(2756),Z=s(2213),y=s(7764),b=(s(8796),s(502)),k=s(7623),C=(s(6123),s(3673)),S=s(7823),T=s(9625),A=s(4410),N=s(6417),w=function(e){e.match;var n=a.useContext(A.FeedbackContext),s=a.useState(""),c=(0,r.Z)(s,2),w=c[0],E=c[1],F=a.useState(""),R=(0,r.Z)(F,2),P=R[0],_=R[1],L=a.useState(""),q=(0,r.Z)(L,2),z=q[0],D=q[1],I=a.useState(""),M=(0,r.Z)(I,2),O=M[0],B=M[1],V=a.useState(!0),H=(0,r.Z)(V,2),U=H[0],W=H[1],Y=a.useState(!1),G=(0,r.Z)(Y,2),J=G[0],K=G[1],Q=a.useState([]),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{e&&n.useLoading(!0,"Carregando..."),S.ZP.get("/parameters").then((function(e){ee(e.data),n.useLoading(!1)}))}catch(s){console.log("erro"),n.useLoading(!1)}},se=function(){var e=(0,t.Z)(i().mark((function e(s){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.preventDefault(),n.useLoading(!0,"Salvando registro..."),e.prev=2,!w){e.next=8;break}return e.next=6,S.ZP.put("/parameters/".concat(w),{name:P,key:z,value:O,is_actived:U});case 6:e.next=10;break;case 8:return e.next=10,S.ZP.post("/parameters",{name:P,key:z,value:O,is_actived:U});case 10:n.useSuccess(!0,"Registro salvo com sucesso"),ne(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("erro ao cadastrar"),n.useLoading(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n){return e.apply(this,arguments)}}(),te=function(){E(""),_(""),B(""),D(""),W(!0),K(!0)};return a.useEffect((function(){ne()}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{children:(0,N.jsxs)(b.F,{xxs:"12",children:[(0,N.jsxs)("h1",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:["Par\xe2metros",(0,T.rc)("PARAMETERS","STORE",(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("span",{style:{},className:"d-flex",children:(0,N.jsx)(m.Z,{color:"success",onClick:function(){return te()},children:"Adicionar"})})}))]}),(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(b.F,{xxs:"12",xl:"12",className:"mb-5",children:(0,N.jsx)(d.Z,{style:{width:"100%"},children:(0,N.jsx)(u.Z,{children:(0,N.jsx)(o.Z,{children:(0,N.jsx)(b.F,{xxs:"12",xl:"12",children:(0,N.jsxs)(l.iA,{children:[(0,N.jsx)(l.hr,{children:(0,N.jsxs)(l.Tr,{children:[(0,N.jsx)(l.Th,{children:"Chave"}),(0,N.jsx)(l.Th,{children:"Nome"}),(0,N.jsx)(l.Th,{children:"Valor"}),(0,N.jsx)(l.Th,{style:{textAlign:"center"},children:"Status"}),(0,N.jsx)(l.Th,{className:"d-flex",style:{alignItems:"center",justifyContent:"right",marginRight:70}})]})}),(0,N.jsx)(l.p3,{children:$.map((function(e){return(0,N.jsxs)(l.Tr,{className:"mb-1",id:"parameters-".concat(e.id),children:[(0,N.jsx)(l.Td,{children:e.key}),(0,T.rc)("PARAMETERS","UPDATE",(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(l.Td,{onClick:function(){return function(e){E(e.id),_(e.name),B(e.value),D(e.key),W(e.is_actived),K(!0)}(e)},className:"btn-link",children:e.name})}),(0,N.jsx)(l.Td,{children:e.name})),(0,N.jsx)(l.Td,{children:e.value}),(0,N.jsx)(l.Td,{style:{textAlign:"center"},children:(0,N.jsx)(h.Z,{className:"highlighter",pill:!0,color:e.is_actived?"success":"warning",children:e.is_actived?"Ativo":"Inativo"})}),(0,N.jsx)(l.Td,{className:"d-flex",style:{alignItems:"center",justifyContent:"right"},children:(0,N.jsxs)(j.Z,{size:"xs",children:[(0,T.rc)("PARAMETERS","DISABLE-ENABLE",(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(m.Z,{id:"btn2-".concat(e.id),color:"warning",onClick:function(){return function(e,s){n.useConfirmAlert(!0,"Tem certeza que deseja ".concat(s?"desativar":"ativar"," esse registro?"),(0,t.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.useLoading(!0,"Atualizando registro..."),t.next=3,S.ZP.put("/parameters/".concat(e),{is_actived:!s});case 3:n.useSuccess(!0,"Registro atualizado com sucesso"),ne(!1);case 5:case"end":return t.stop()}}),t)}))))}(e.id,e.is_actived)},children:[(0,N.jsx)("div",{className:"glyph-icon iconsminds-power"}),(0,N.jsx)(C.Z,{id:"btn2-".concat(e.id),text:e.is_actived?"Desativar":"Ativar"})]})})),(0,T.rc)("PARAMETERS","DESTROY",(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(m.Z,{id:"btn3-".concat(e.id),color:"danger",onClick:function(){return function(e){n.useConfirmAlert(!0,"Todos os registros relacionados ser\xe3o removidos! Tem certeza que deseja continuar?",(0,t.Z)(i().mark((function s(){return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.useLoading(!0,"Excluindo registro..."),s.next=3,S.ZP.delete("/parameters/".concat(e));case 3:n.useSuccess(!0,"Registro deletado com sucesso"),ne(!1);case 5:case"end":return s.stop()}}),s)}))))}(e.id)},children:[(0,N.jsx)("div",{className:"glyph-icon simple-icon-trash"}),(0,N.jsx)(C.Z,{id:"btn3-".concat(e.id),text:"Remover"})]})}))]})})]})}))})]})})})})})}),(0,N.jsx)(b.F,{xss:"12",className:"text-center  ",children:0===$.length?(0,N.jsx)("small",{children:(0,N.jsx)("strong",{children:"Nenhum registro encontrado"})}):null})]})]})}),(0,N.jsxs)(v.Z,{wrapClassName:"modal-right",size:"sm",isOpen:J,scrollable:!0,style:{minWidth:"10vw",width:"100%",minHeight:"100vh"},toggle:function(){return K(!1)},children:[(0,N.jsx)(p.Z,{children:"Par\xe2metros"}),(0,N.jsx)(Z.Z,{children:(0,N.jsxs)("form",{onSubmit:se,action:"#",children:[(0,N.jsx)(o.Z,{children:(0,N.jsx)(b.F,{sm:"12",children:(0,N.jsxs)(x.Z,{children:[(0,N.jsx)(f.Z,{for:"key",children:"Chave"}),(0,N.jsx)(g.Z,{required:!0,className:"form-control",type:"text",id:"key",value:z,onChange:function(e){return D(e.target.value)}})]})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(b.F,{sm:"12",children:(0,N.jsxs)(x.Z,{children:[(0,N.jsx)(f.Z,{for:"name",children:"Nome"}),(0,N.jsx)(g.Z,{className:"form-control",type:"text",required:!0,placeholder:"",id:"name",value:P,onChange:function(e){return _(e.target.value)}})]})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(b.F,{sm:"12",children:(0,N.jsxs)(x.Z,{children:[(0,N.jsx)(f.Z,{for:"value",children:"Valor"}),(0,N.jsx)(g.Z,{required:!0,className:"form-control",type:"text",id:"value",value:O,onChange:function(e){return B(e.target.value)}})]})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(b.F,{sm:"12",children:(0,N.jsxs)(x.Z,{children:[(0,N.jsx)(f.Z,{for:"is_actived",children:"Ativo/Inativo"}),(0,N.jsx)(k.Z,{className:"custom-switch custom-switch-primary",checked:U,onChange:function(e){return W(e)}})]})})}),(0,N.jsx)("button",{type:"submit",style:{display:"none"},id:"btnSubmitParameters"})]})}),(0,N.jsxs)(y.Z,{style:{justifyContent:"end"},children:[(0,N.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(){return K(!1)},children:"Fechar"}),(0,N.jsx)("button",{type:"submit",className:"btn btn-success btn-shadow btn-lg ",onClick:function(){return document.querySelector("#btnSubmitParameters").click()},children:"Salvar"})]})]})]})},E=a.memo(w)}}]);