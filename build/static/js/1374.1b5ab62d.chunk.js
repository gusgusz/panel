"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[1374],{8803:function(e,s,n){n.d(s,{Z:function(){return g}});var i=n(2982),t=n(1413),r=n(5671),a=n(3144),c=n(136),l=n(8557),o=n(7313),d=n(4759),u=n.n(d),x=(n(5911),n(6417)),m=n(4389),h={iconFiletypes:[],showFiletypeIcon:!0,postUrl:"https://httpbin.org/post"},p={maxFiles:1,uploadMultiple:!1,thumbnailHeight:160,maxFilesize:2,maxFileSize:2,parallelUploads:1,dictDefaultMessage:"Clique aqui ou arraste para anexar",dictFileTooBig:"Seu arquivo \xe9 muito grande!",dictInvalidFileType:"Tipo de arquivo inv\xe1lido",dictMaxFilesExceeded:"S\xf3 \xe9 permitido anexar 1 (um) arquivo",renameFilename:function(e){return e.replace(/[^\w\s]/gi,"")},previewTemplate:m.renderToStaticMarkup((0,x.jsxs)("div",{className:"dz-preview dz-file-preview mb-3",children:[(0,x.jsxs)("div",{className:"d-flex flex-row ",children:[(0,x.jsxs)("div",{className:"p-0 w-30 position-relative",children:[(0,x.jsx)("div",{className:"dz-error-mark",children:(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{})," "]})}),(0,x.jsx)("div",{className:"dz-success-mark",children:(0,x.jsx)("span",{children:(0,x.jsx)("i",{})})}),(0,x.jsxs)("div",{className:"preview-container",children:[(0,x.jsx)("img",{"data-dz-thumbnail":!0,className:"img-thumbnail border-0"}),(0,x.jsx)("i",{className:"simple-icon-doc preview-icon"})]})]}),(0,x.jsxs)("div",{className:"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative",children:[(0,x.jsxs)("div",{children:[" ",(0,x.jsx)("span",{"data-dz-name":!0})," "]}),(0,x.jsx)("div",{className:"text-primary text-extra-small","data-dz-size":!0}),(0,x.jsx)("div",{className:"dz-progress",children:(0,x.jsx)("span",{className:"dz-upload","data-dz-uploadprogress":!0})}),(0,x.jsx)("div",{className:"dz-error-message",children:(0,x.jsx)("span",{"data-dz-errormessage":!0})})]})]}),(0,x.jsxs)("a",{href:"#/",className:"remove","data-dz-remove":!0,children:[(0,x.jsx)("i",{className:"glyph-icon simple-icon-trash",style:{fontSize:"14px"}})," "]})]})),headers:{"My-Awesome-Header":"header value"}},g=function(e){(0,c.Z)(n,e);var s=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),s.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this;return(0,x.jsx)(u(),{config:h,djsConfig:(0,t.Z)((0,t.Z)({},p),this.props.dropzoneConfig),eventHandlers:{uploadprogress:function(){return e.props.setFileUploading(!0)},success:function(s){e.props.setFiles([].concat((0,i.Z)(e.props.files),[s])),e.props.setFileUploading(!1)},removedfile:function(s){return e.props.setFiles(e.props.files.filter((function(e){return e.upload.uuid!==s.upload.uuid})))},init:function(s){e.myDropzone=s}}})}}]),n}(o.Component)},2373:function(e,s,n){n.r(s),n.d(s,{default:function(){return A}});var i=n(5861),t=n(885),r=n(7757),a=n.n(r),c=(n(6430),n(2632),n(8569),n(8995),n(5033),n(7313)),l=n(6231),o=n(4382),d=n(7338),u=n(1422),x=n(7199),m=n(4105),h=n(7936),p=n(595),g=n(5951),f=n(2588),j=n(2995),v=n(2756),b=n(2213),Z=n(7764),N=n(502),y=n(7623),C=n(3673),w=n(7823),T=n(9625),F=n(4410),S=n(8803),z=n(5517),k=n(6417),E=function(){var e=c.useContext(F.FeedbackContext),s=c.useState(""),n=(0,t.Z)(s,2),r=n[0],E=n[1],A=c.useState(""),R=(0,t.Z)(A,2),I=R[0],_=R[1],D=c.useState(""),M=(0,t.Z)(D,2),q=M[0],L=M[1],O=c.useState(!0),P=(0,t.Z)(O,2),U=P[0],G=P[1],H=c.useState(""),B=(0,t.Z)(H,2),J=B[0],W=B[1],Y=c.useState(!1),K=(0,t.Z)(Y,2),Q=K[0],V=K[1],X=c.useState(!1),$=(0,t.Z)(X,2),ee=$[0],se=$[1],ne=c.useState([]),ie=(0,t.Z)(ne,2),te=ie[0],re=ie[1],ae=function(){var s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{s&&e.useLoading(!0,"Carregando..."),w.ZP.get("/categories").then((function(s){re(s.data),e.useLoading(!1)}))}catch(n){console.log("erro"),e.useLoading(!1)}},ce=function(){var s=(0,i.Z)(a().mark((function s(n){var i,t,c;return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n&&n.preventDefault(),!(J.length<=0)||r){s.next=4;break}return(0,z.Z)("Informe uma imagem","Campo obrigat\xf3rio!"),s.abrupt("return");case 4:if(e.useLoading(!0,"Salvando registro..."),s.prev=5,i={name:I,description:q,is_actived:U},J.length>0&&(c=JSON.parse(J[0].xhr.response),i.image_path_metadata={base64:null===c||void 0===c||null===(t=c.files)||void 0===t?void 0:t.file}),!r){s.next=13;break}return s.next=11,w.ZP.put("/categories/".concat(r),i);case 11:s.next=15;break;case 13:return s.next=15,w.ZP.post("/categories",i);case 15:e.useSuccess(!0,"Registro salvo com sucesso"),ae(!1),se(!1),s.next=24;break;case 20:s.prev=20,s.t0=s.catch(5),console.log("erro ao cadastrar"),e.useLoading(!1);case 24:case"end":return s.stop()}}),s,null,[[5,20]])})));return function(e){return s.apply(this,arguments)}}(),le=function(e){E(e.id),_(e.name),L(e.description),G(e.is_actived),se(!0)},oe=function(){W([]),E(""),_(""),L(""),G(!0),se(!0)};return c.useEffect((function(){ae()}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.Z,{children:(0,k.jsxs)(N.F,{xxs:"12",children:[(0,k.jsxs)("h1",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:["Categorias",(0,T.rc)("CATEGORIES","STORE",(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("span",{style:{},className:"d-flex",children:(0,k.jsx)(h.Z,{color:"success",onClick:function(){return oe()},children:"Adicionar"})})}))]}),(0,k.jsxs)(o.Z,{children:[(0,k.jsx)(N.F,{xxs:"12",xl:"12",className:"mb-5",children:(0,k.jsx)(d.Z,{style:{width:"100%"},children:(0,k.jsx)(u.Z,{children:(0,k.jsx)(o.Z,{children:(0,k.jsx)(N.F,{xxs:"12",xl:"12",children:(0,k.jsxs)(l.iA,{children:[(0,k.jsx)(l.hr,{children:(0,k.jsxs)(l.Tr,{children:[(0,k.jsx)(l.Th,{style:{textAlign:"center",width:150},children:"Imagem"}),(0,k.jsx)(l.Th,{style:{width:150},children:"Nome"}),(0,k.jsx)(l.Th,{style:{textAlign:"left"},children:"Descri\xe7\xe3o"}),(0,k.jsx)(l.Th,{style:{textAlign:"center"},children:"Status"}),(0,k.jsx)(l.Th,{className:"d-flex",style:{alignItems:"center",justifyContent:"right",marginRight:70}})]})}),(0,k.jsx)(l.p3,{children:te.map((function(s){return(0,k.jsxs)(l.Tr,{className:"mb-1",id:"categories-".concat(s.id),children:[(0,k.jsx)(l.Td,{className:"text-center",children:(0,k.jsx)("a",{href:s.image_path,target:"_blank",children:(0,k.jsx)("img",{src:s.image_path,style:{width:80,borderRadius:"100%"}})})}),(0,T.rc)("CATEGORIES","UPDATE",(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.Td,{onClick:function(){return le(s)},className:"btn-link",children:s.name})}),(0,k.jsx)(l.Td,{children:s.name})),(0,T.rc)("CATEGORIES","UPDATE",(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.Td,{onClick:function(){return le(s)},className:"btn-link",children:s.description})}),(0,k.jsx)(l.Td,{children:s.description})),(0,k.jsx)(l.Td,{style:{textAlign:"center"},children:(0,k.jsx)(x.Z,{className:"highlighter",pill:!0,color:s.is_actived?"success":"warning",children:s.is_actived?"Ativo":"Inativo"})}),(0,k.jsx)(l.Td,{className:"d-flex",style:{alignItems:"center",justifyContent:"right",minHeight:"100px"},children:(0,k.jsxs)(p.Z,{size:"xs",children:[(0,T.rc)("CATEGORIES","DISABLE-ENABLE",(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(h.Z,{id:"btn2-".concat(s.id),color:"warning",onClick:function(){return function(s,n){e.useConfirmAlert(!0,"Tem certeza que deseja ".concat(n?"desativar":"ativar"," esse registro?"),(0,i.Z)(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.useLoading(!0,"Atualizando registro..."),i.next=3,w.ZP.put("/categories/".concat(s),{is_actived:!n});case 3:e.useSuccess(!0,"Registro atualizado com sucesso"),ae(!1);case 5:case"end":return i.stop()}}),i)}))))}(s.id,s.is_actived)},children:[(0,k.jsx)("div",{className:"glyph-icon iconsminds-power"}),(0,k.jsx)(C.Z,{id:"btn2-".concat(s.id),text:s.is_actived?"Desativar":"Ativar"})]})})),(0,T.rc)("CATEGORIES","DESTROY",(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(h.Z,{id:"btn3-".concat(s.id),color:"danger",onClick:function(){return function(s){e.useConfirmAlert(!0,"Todos os registros relacionados ser\xe3o removidos! Tem certeza que deseja continuar?",(0,i.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.useLoading(!0,"Excluindo registro..."),n.next=3,w.ZP.delete("/categories/".concat(s));case 3:e.useSuccess(!0,"Registro deletado com sucesso"),ae(!1);case 5:case"end":return n.stop()}}),n)}))))}(s.id)},children:[(0,k.jsx)("div",{className:"glyph-icon simple-icon-trash"}),(0,k.jsx)(C.Z,{id:"btn3-".concat(s.id),text:"Remover"})]})}))]})})]})}))})]})})})})})}),(0,k.jsx)(N.F,{xss:"12",className:"text-center  ",children:0===te.length?(0,k.jsx)("small",{children:(0,k.jsx)("strong",{children:"Nenhum registro encontrado"})}):null})]})]})}),(0,k.jsxs)(j.Z,{wrapClassName:"modal-right",size:"sm",isOpen:ee,scrollable:!0,style:{minWidth:"30vw",width:"100%",minHeight:"100vh"},children:[(0,k.jsx)(v.Z,{children:"Categoria"}),(0,k.jsx)(b.Z,{children:(0,k.jsxs)("form",{onSubmit:ce,action:"#",children:[(0,k.jsxs)(o.Z,{children:[(0,k.jsx)(N.F,{sm:"12",lg:"12",xs:"12",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(g.Z,{className:"font-weight-bold",for:"name",children:"* Nome"}),(0,k.jsx)(f.Z,{required:!0,className:"form-control",type:"text",id:"name",value:I,onChange:function(e){return _(e.target.value)}})]})}),(0,k.jsx)(N.F,{sm:"12",lg:"12",xs:"12",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(g.Z,{className:"font-weight-bold",for:"locale",children:"* Descri\xe7\xe3o"}),(0,k.jsx)(f.Z,{required:!0,className:"form-control",type:"text",id:"description",value:q,onChange:function(e){return L(e.target.value)}})]})})]}),(0,k.jsx)(o.Z,{children:(0,k.jsxs)(N.F,{sm:"12",children:[(0,k.jsx)(g.Z,{for:"file",className:"font-weight-bold",children:"Imagem/Logo"}),(0,k.jsx)(S.Z,{files:J,setFiles:W,setFileUploading:V,dropzoneConfig:{maxFiles:1,acceptedFiles:"image/*"}})]})}),(0,k.jsx)(o.Z,{children:(0,k.jsx)(N.F,{sm:"12",children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(g.Z,{className:"font-weight-bold",for:"is_actived",children:"Ativo/Inativo"}),(0,k.jsx)(y.Z,{className:"custom-switch custom-switch-primary",checked:U,onChange:function(e){return G(e)}})]})})}),(0,k.jsx)("button",{type:"submit",style:{display:"none"},id:"btnSubmitCategories"})]})}),(0,k.jsxs)(Z.Z,{style:{justifyContent:"end"},children:[(0,k.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(){return se(!1)},disabled:Q,children:"Fechar"}),(0,k.jsx)("button",{type:"submit",className:"btn btn-success btn-shadow btn-lg ",onClick:function(){return document.querySelector("#btnSubmitCategories").click()},disabled:Q,children:"Salvar"})]})]})]})},A=c.memo(E)},5517:function(e,s,n){n.d(s,{Z:function(){return r}});var i=n(4621),t=n.n(i);function r(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Erro";t()(s,e,{icon:"error"})}},7199:function(e,s,n){var i=n(7462),t=n(3366),r=n(7313),a=n(5192),c=n.n(a),l=n(6123),o=n.n(l),d=n(8345),u=["className","cssModule","color","innerRef","pill","tag"],x={color:c().string,pill:c().bool,tag:d.iC,innerRef:c().oneOfType([c().object,c().func,c().string]),children:c().node,className:c().string,cssModule:c().object},m=function(e){var s=e.className,n=e.cssModule,a=e.color,c=e.innerRef,l=e.pill,x=e.tag,m=(0,t.Z)(e,u),h=(0,d.mx)(o()(s,"badge","badge-"+a,!!l&&"badge-pill"),n);return m.href&&"span"===x&&(x="a"),r.createElement(x,(0,i.Z)({},m,{className:h,ref:c}))};m.propTypes=x,m.defaultProps={color:"secondary",pill:!1,tag:"span"},s.Z=m},595:function(e,s,n){var i=n(7462),t=n(3366),r=n(7313),a=n(5192),c=n.n(a),l=n(6123),o=n.n(l),d=n(8345),u=["className","cssModule","size","vertical","tag"],x={tag:d.iC,"aria-label":c().string,className:c().string,cssModule:c().object,role:c().string,size:c().string,vertical:c().bool},m=function(e){var s=e.className,n=e.cssModule,a=e.size,c=e.vertical,l=e.tag,x=(0,t.Z)(e,u),m=(0,d.mx)(o()(s,!!a&&"btn-group-"+a,c?"btn-group-vertical":"btn-group"),n);return r.createElement(l,(0,i.Z)({},x,{className:m}))};m.propTypes=x,m.defaultProps={tag:"div",role:"group"},s.Z=m}}]);