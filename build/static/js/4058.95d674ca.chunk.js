"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[4058],{8803:function(e,n,s){s.d(n,{Z:function(){return f}});var r=s(2982),t=s(1413),a=s(5671),i=s(3144),l=s(136),c=s(8557),o=s(7313),d=s(4759),u=s.n(d),p=(s(5911),s(6417)),m=s(4389),h={iconFiletypes:[],showFiletypeIcon:!0,postUrl:"https://httpbin.org/post"},x={maxFiles:1,uploadMultiple:!1,thumbnailHeight:160,maxFilesize:2,maxFileSize:2,parallelUploads:1,dictDefaultMessage:"Clique aqui ou arraste para anexar",dictFileTooBig:"Seu arquivo \xe9 muito grande!",dictInvalidFileType:"Tipo de arquivo inv\xe1lido",dictMaxFilesExceeded:"S\xf3 \xe9 permitido anexar 1 (um) arquivo",renameFilename:function(e){return e.replace(/[^\w\s]/gi,"")},previewTemplate:m.renderToStaticMarkup((0,p.jsxs)("div",{className:"dz-preview dz-file-preview mb-3",children:[(0,p.jsxs)("div",{className:"d-flex flex-row ",children:[(0,p.jsxs)("div",{className:"p-0 w-30 position-relative",children:[(0,p.jsx)("div",{className:"dz-error-mark",children:(0,p.jsxs)("span",{children:[(0,p.jsx)("i",{})," "]})}),(0,p.jsx)("div",{className:"dz-success-mark",children:(0,p.jsx)("span",{children:(0,p.jsx)("i",{})})}),(0,p.jsxs)("div",{className:"preview-container",children:[(0,p.jsx)("img",{"data-dz-thumbnail":!0,className:"img-thumbnail border-0"}),(0,p.jsx)("i",{className:"simple-icon-doc preview-icon"})]})]}),(0,p.jsxs)("div",{className:"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative",children:[(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{"data-dz-name":!0})," "]}),(0,p.jsx)("div",{className:"text-primary text-extra-small","data-dz-size":!0}),(0,p.jsx)("div",{className:"dz-progress",children:(0,p.jsx)("span",{className:"dz-upload","data-dz-uploadprogress":!0})}),(0,p.jsx)("div",{className:"dz-error-message",children:(0,p.jsx)("span",{"data-dz-errormessage":!0})})]})]}),(0,p.jsxs)("a",{href:"#/",className:"remove","data-dz-remove":!0,children:[(0,p.jsx)("i",{className:"glyph-icon simple-icon-trash",style:{fontSize:"14px"}})," "]})]})),headers:{"My-Awesome-Header":"header value"}},f=function(e){(0,l.Z)(s,e);var n=(0,c.Z)(s);function s(){return(0,a.Z)(this,s),n.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){var e=this;return(0,p.jsx)(u(),{config:h,djsConfig:(0,t.Z)((0,t.Z)({},x),this.props.dropzoneConfig),eventHandlers:{uploadprogress:function(){return e.props.setFileUploading(!0)},success:function(n){e.props.setFiles([].concat((0,r.Z)(e.props.files),[n])),e.props.setFileUploading(!1)},removedfile:function(n){return e.props.setFiles(e.props.files.filter((function(e){return e.upload.uuid!==n.upload.uuid})))},init:function(n){e.myDropzone=n}}})}}]),s}(o.Component)},6210:function(e,n,s){s(7313);var r=s(3035),t=s(3108),a=s(1179),i=s(502),l=s(6417);n.Z=function(e){var n=e.size,s=void 0===n?"":n,c=e.className,o=void 0===c?"mt-3 mb-3":c,d=e.totalPage,u=void 0===d?0:d,p=e.currentPage,m=void 0===p?1:p,h=e.numberLimit,x=void 0===h?5:h,f=e.lastIsActive,g=void 0===f||f,v=e.firstIsActive,j=void 0===v||v,$=e.onChangePage,b=1,N=x;x>u?(b=1,N=u):m<=parseInt(x/2,10)?(b=1,N=x):m+parseInt(x/2,10)<=u?(b=m-parseInt(x/2,10),N=m+parseInt(x/2,10)):(b=u-(x-1),N=u);for(var Z=[],y=b=0===b?1:b;y<=N;y+=1)Z.push(y);var C=m<=1?"disabled":"",F=m>=u?"disabled":"",S=m<=1?"disabled":"",w=m>=u?"disabled":"";return u>-1?(0,l.jsx)(i.F,{xxs:"12",className:o,children:(0,l.jsxs)(r.Z,{className:"pagination".concat(s?"-".concat(s):""," justify-content-center sm"),children:[j&&(0,l.jsx)(t.Z,{className:"page-item ".concat(C),children:(0,l.jsx)(a.Z,{className:"page-link first c-pointer",onClick:function(){return $(1)},children:(0,l.jsx)("i",{className:"simple-icon-control-start"})})}),(0,l.jsx)(t.Z,{className:"page-item ".concat(S),children:(0,l.jsx)(a.Z,{className:"page-link prev c-pointer",onClick:function(){return $(m-1)},children:(0,l.jsx)("i",{className:"simple-icon-arrow-left"})})}),Z.map((function(e){return(0,l.jsx)(t.Z,{className:"page-item ".concat(m===e&&"active"),children:(0,l.jsx)(a.Z,{className:"page-link c-pointer",onClick:function(){return $(e)},children:e})},e)})),(0,l.jsx)(t.Z,{className:"page-item ".concat(w),children:(0,l.jsx)(a.Z,{className:"page-link next c-pointer",onClick:function(){return $(m+1)},children:(0,l.jsx)("i",{className:"simple-icon-arrow-right"})})}),g&&(0,l.jsx)(t.Z,{className:"page-item ".concat(F),children:(0,l.jsx)(a.Z,{className:"page-link last c-pointer",onClick:function(){return $(u)},children:(0,l.jsx)("i",{className:"simple-icon-control-end"})})})]})}):(0,l.jsx)(i.F,{xxs:"12",className:"mt-2"})}},9659:function(e,n,s){var r=s(7313),t=s(1179),a=s(1969),i=s(935),l=s(6417),c=function(e){var n=e.children,s=e.isOpen,c=e.setIsOpen,o=(0,r.useRef)();return(0,r.useEffect)((function(){}),[s]),(0,l.jsxs)("div",{ref:o,className:"app-menu ".concat(s?"shown":""),children:[n,(0,l.jsx)(t.Z,{className:"app-menu-button d-inline-block",onClick:function(){return c(!s)},children:(0,l.jsx)(a.G,{icon:s?i.cLY:i.UXu})})]})};n.Z=r.memo(c)},557:function(e,n,s){var r=s(1413),t=(s(7313),s(3598)),a=s(6417);n.Z=function(e){var n=(0,r.Z)({},e);return delete n.autoCorrect,delete n.autoCapitalize,(0,a.jsx)(t.c.Input,(0,r.Z)({},n))}},2396:function(e,n,s){s.r(n),s.d(n,{default:function(){return y}});var r=s(885),t=(s(6430),s(2632),s(8569),s(8995),s(5033),s(7313)),a=s(6231),i=s(4382),l=s(7338),c=s(1422),o=s(7199),d=s(502),u=(s(7623),s(3673),s(7936)),p=s(4229),m=s.n(p),h=s(9659),x=(s(816),s(7823)),f=s(3605),g=s(557),v=s(6417),j=function(e){var n=e.onSearch,s=e.loading,a=t.useState(!1),i=(0,r.Z)(a,2),l=i[0],c=i[1],o=t.useState([]),d=(0,r.Z)(o,2),p=d[0],j=d[1],$=t.useState(void 0),b=(0,r.Z)($,2),N=b[0],Z=b[1],y=t.useState(""),C=(0,r.Z)(y,2),F=C[0],S=C[1],w=function(){n({franchise_id:N?null===N||void 0===N?void 0:N.value:void 0,term:F})};return t.useEffect((function(){x.ZP.get("/franchises").then((function(e){j(e.data)}))}),[]),(0,v.jsx)(h.Z,{isOpen:l,setIsOpen:c,children:(0,v.jsx)(m(),{options:{suppressScrollX:!0,wheelPropagation:!1},children:(0,v.jsx)("form",{onSubmit:function(e){e.preventDefault(),w()},target:"#",children:(0,v.jsxs)("div",{className:"p-4",children:[" ",(0,v.jsx)("p",{className:"text-muted text-small mb-2",children:"Buscar"}),(0,v.jsx)("div",{className:"list-unstyled mb-5",children:(0,v.jsx)("input",{type:"text",placeholder:"",value:F,onChange:function(e){return S(e.target.value)},class:"form-control mb-2"})}),(0,v.jsx)("p",{className:"text-muted text-small mb-2",children:"Franquia"}),(0,v.jsx)("div",{className:"list-unstyled mb-5",children:(0,v.jsx)(f.ZP,{placeholder:"Selecione",isClearable:!0,components:{Input:g.Z},className:"react-select",classNamePrefix:"react-select",name:"franchise",value:N,defaultValue:N,onChange:function(e){return Z(e)},options:p.map((function(e){return{value:e.id,label:e.name}}))})}),(0,v.jsx)("ul",{className:"list-unstyled mb-2",children:(0,v.jsxs)(u.Z,{onClick:w,type:"submit",color:"success",disabled:s,className:" btn-block btn-multiple-state ".concat(s?"show-spinner":""),size:"lg",children:[(0,v.jsxs)("span",{className:"spinner d-inline-block",children:[(0,v.jsx)("span",{className:"bounce1"}),(0,v.jsx)("span",{className:"bounce2"}),(0,v.jsx)("span",{className:"bounce3"})]}),(0,v.jsx)("span",{className:"label",children:"BUSCAR"})]})})]})})})})},$=t.memo(j),b=(s(9625),s(4410)),N=(s(8803),s(5517),s(9257),s(6210)),Z=function(){var e,n=t.useContext(b.FeedbackContext),s=t.useState([]),u=(0,r.Z)(s,2),p=u[0],m=u[1],h=t.useState(0),f=(0,r.Z)(h,2),g=f[0],j=f[1],Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{n.useLoading(!0,"Carregando..."),x.ZP.get("/services",{params:e}).then((function(e){m(e.data),n.useLoading(!1)}))}catch(s){console.log("erro"),n.useLoading(!1)}},y=function(e){return"SENT"===e?{label:"Aguardando Prestador",color:"warning"}:"CANCELED"===e?{label:"Cancelado",color:"danger"}:"ACCEPTED"===e?{label:"Aceito",color:"success"}:{label:"Aceito e Finalizado",color:"success"}};return t.useEffect((function(){Z()}),[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.Z,{children:(0,v.jsxs)(d.F,{xxs:"12",children:[(0,v.jsx)("h1",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:"Servi\xe7os solicitados"}),(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(d.F,{xxs:"12",xl:"12",className:"mb-5",children:(0,v.jsx)(l.Z,{style:{width:"100%"},children:(0,v.jsx)(c.Z,{children:(0,v.jsx)(i.Z,{children:(0,v.jsx)(d.F,{xxs:"12",xl:"12",children:(0,v.jsxs)(a.iA,{children:[(0,v.jsx)(a.hr,{children:(0,v.jsxs)(a.Tr,{children:[(0,v.jsx)(a.Th,{style:{width:25},children:"#"}),(0,v.jsx)(a.Th,{style:{textAlign:"center",width:150},children:"Franquia"}),(0,v.jsx)(a.Th,{style:{width:200},children:"Cliente"}),(0,v.jsx)(a.Th,{style:{textAlign:"center"},children:"Telefone"}),(0,v.jsx)(a.Th,{style:{textAlign:"center"},children:"Categoria"}),(0,v.jsx)(a.Th,{style:{textAlign:"center"},children:"Descri\xe7\xe3o"}),(0,v.jsx)(a.Th,{style:{textAlign:"center"},children:"Situa\xe7\xe3o"}),(0,v.jsx)(a.Th,{className:"d-flex",style:{alignItems:"center",justifyContent:"right"}})]})}),(0,v.jsx)(a.p3,{children:null===p||void 0===p||null===(e=p.slice(20*g,20*g+20))||void 0===e?void 0:e.map((function(e){var n,s;return(0,v.jsxs)(a.Tr,{className:"mb-1",id:"services-".concat(e.id),children:[(0,v.jsx)(a.Td,{children:e.id}),(0,v.jsx)(a.Td,{style:{textAlign:"center"},children:(0,v.jsx)("b",{children:null!==(n=null===(s=e.franchise)||void 0===s?void 0:s.name)&&void 0!==n?n:"-"})}),(0,v.jsx)(a.Td,{children:e.customer_name}),(0,v.jsx)(a.Td,{className:"text-center",children:e.customer_phone}),(0,v.jsx)(a.Td,{className:"text-center",children:e.category_name}),(0,v.jsx)(a.Td,{className:"text-center",children:e.note}),(0,v.jsx)(a.Td,{style:{textAlign:"center"},children:(0,v.jsx)(o.Z,{className:"highlighter",pill:!0,color:y(e.status).color,children:y(e.status).label})})]})}))})]})})})})})}),p.length>20?(0,v.jsx)(N.Z,{className:"mt-3 mb-0",size:"sm",currentPage:g+1,totalPage:Math.ceil((null===p||void 0===p?void 0:p.length)/20),onChangePage:function(e){j(e-1)}}):null,(0,v.jsx)(d.F,{xss:"12",className:"text-center  ",children:0===p.length?(0,v.jsx)("small",{children:(0,v.jsx)("strong",{children:"Nenhum registro encontrado"})}):null})]})]})}),(0,v.jsx)($,{onSearch:Z})]})},y=t.memo(Z)},5517:function(e,n,s){s.d(n,{Z:function(){return a}});var r=s(4621),t=s.n(r);function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Erro";t()(n,e,{icon:"error"})}},9257:function(e,n,s){s.d(n,{f_:function(){return r},ky:function(){return i},mQ:function(){return l},FA:function(){return c},yD:function(){return o},ao:function(){return m},nO:function(){return h},HW:function(){return x}});s(7757),s(1881);var r=function(e){return t(e)||a(e)?e:parseFloat(e.toString().replace(/\./g,"").replace(/\,/g,"."))},t=function(e){return Number(e)===e&&e%1===0},a=function(e){return Number(e)===e&&e%1!==0},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e||(e=0),n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var r=(e=new String(Number(e))).length;return 1==r?e=e.replace(/(\d)/,"0,0$1"):2==r?e=e.replace(/(\d)/,"0,$1"):r>2&&r<6?e=e.replace(/(\d{2})$/,",$1"):r>=6&&r<9?e=e.replace(/(\d{3})(\d{2})$/,".$1,$2"):r>=9&&(e=e.replace(/(\d{3})(\d{3})(\d{2})$/,".$1.$2,$3")),"".concat(s?"".concat(s," "):"").concat(e)},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cpf",s=d(e);return parseInt(e)||t(s)||a(s)?"CPF"===n.toUpperCase()?u(s.toString().substr(0,11)):p(s.toString().substr(0,14)):e.toString().substr(0,14)},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0);var s=e<0;n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var r=(e=new String(Number(e))).length;return 1==r||2==r||3==r?e=e.replace(/(\d)/,"$1"):4==r?e=e.replace(/(\d{1})(\d{3})$/,"$1.$2"):5==r?e=e.replace(/(\d{2})(\d{3})$/,"$1.$2"):6==r?e=e.replace(/(\d{3})(\d{3})$/,"$1.$2"):7==r?e=e.replace(/(\d{1})(\d{3})(\d{3})$/,"$1.$2.$3"):8==r?e=e.replace(/(\d{2})(\d{3})(\d{3})$/,"$1.$2.$3"):9==r?e=e.replace(/(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3"):10==r?e=e.replace(/(\d{1})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):11==r?e=e.replace(/(\d{2})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):12==r?e=e.replace(/(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):r>12&&(e=e.replace(/(\d)(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4.$5")),"".concat(s?"- ":"").concat(e)},o=function(e){return 10===(e=d(e)).length?e.replace(/(\d{2})(\d{4})(\d{4})/g,"($1) $2-$3"):e.substr(0,11).replace(/(\d{2})(\d{1})(\d{4})(\d{4})/g,"($1) $2 $3-$4")};function d(e){return"string"!==typeof e&&(e="".concat(e)),e.replace(/\D/g,"")}function u(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}function p(e){return e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5")}var m=function(e){if(e)return d(e).toString().substr(0,8).replace(/(\d{5})(\d{3})/g,"$1-$2")};function h(e){var n,s=0;if("00000000000"==(e=d(e)))return!1;for(var r=1;r<=9;r++)s+=parseInt(e.substring(r-1,r))*(11-r);if(10!=(n=10*s%11)&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return!1;s=0;for(var t=1;t<=10;t++)s+=parseInt(e.substring(t-1,t))*(12-t);return 10!=(n=10*s%11)&&11!=n||(n=0),n==parseInt(e.substring(10,11))}function x(e){if(""==(e=e.replace(/[^\d]+/g,"")))return!1;if(14!=e.length)return!1;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var n=e.length-2,s=e.substring(0,n),r=e.substring(n),t=0,a=n-7,i=n;i>=1;i--)t+=s.charAt(n-i)*a--,a<2&&(a=9);var l=t%11<2?0:11-t%11;if(l!=r.charAt(0))return!1;n+=1,s=e.substring(0,n),t=0,a=n-7;for(var c=n;c>=1;c--)t+=s.charAt(n-c)*a--,a<2&&(a=9);return(l=t%11<2?0:11-t%11)==r.charAt(1)}},7199:function(e,n,s){var r=s(7462),t=s(3366),a=s(7313),i=s(5192),l=s.n(i),c=s(6123),o=s.n(c),d=s(8345),u=["className","cssModule","color","innerRef","pill","tag"],p={color:l().string,pill:l().bool,tag:d.iC,innerRef:l().oneOfType([l().object,l().func,l().string]),children:l().node,className:l().string,cssModule:l().object},m=function(e){var n=e.className,s=e.cssModule,i=e.color,l=e.innerRef,c=e.pill,p=e.tag,m=(0,t.Z)(e,u),h=(0,d.mx)(o()(n,"badge","badge-"+i,!!c&&"badge-pill"),s);return m.href&&"span"===p&&(p="a"),a.createElement(p,(0,r.Z)({},m,{className:h,ref:l}))};m.propTypes=p,m.defaultProps={color:"secondary",pill:!1,tag:"span"},n.Z=m}}]);