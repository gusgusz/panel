"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[6249],{8803:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(2982),s=t(1413),i=t(5671),c=t(3144),a=t(136),l=t(8557),o=t(7313),d=t(4759),u=t.n(d),p=(t(5911),t(6417)),h=t(4389),x={iconFiletypes:[],showFiletypeIcon:!0,postUrl:"https://httpbin.org/post"},m={maxFiles:1,uploadMultiple:!1,thumbnailHeight:160,maxFilesize:2,maxFileSize:2,parallelUploads:1,dictDefaultMessage:"Clique aqui ou arraste para anexar",dictFileTooBig:"Seu arquivo \xe9 muito grande!",dictInvalidFileType:"Tipo de arquivo inv\xe1lido",dictMaxFilesExceeded:"S\xf3 \xe9 permitido anexar 1 (um) arquivo",renameFilename:function(e){return e.replace(/[^\w\s]/gi,"")},previewTemplate:h.renderToStaticMarkup((0,p.jsxs)("div",{className:"dz-preview dz-file-preview mb-3",children:[(0,p.jsxs)("div",{className:"d-flex flex-row ",children:[(0,p.jsxs)("div",{className:"p-0 w-30 position-relative",children:[(0,p.jsx)("div",{className:"dz-error-mark",children:(0,p.jsxs)("span",{children:[(0,p.jsx)("i",{})," "]})}),(0,p.jsx)("div",{className:"dz-success-mark",children:(0,p.jsx)("span",{children:(0,p.jsx)("i",{})})}),(0,p.jsxs)("div",{className:"preview-container",children:[(0,p.jsx)("img",{"data-dz-thumbnail":!0,className:"img-thumbnail border-0"}),(0,p.jsx)("i",{className:"simple-icon-doc preview-icon"})]})]}),(0,p.jsxs)("div",{className:"pl-3 pt-2 pr-2 pb-1 w-70 dz-details position-relative",children:[(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{"data-dz-name":!0})," "]}),(0,p.jsx)("div",{className:"text-primary text-extra-small","data-dz-size":!0}),(0,p.jsx)("div",{className:"dz-progress",children:(0,p.jsx)("span",{className:"dz-upload","data-dz-uploadprogress":!0})}),(0,p.jsx)("div",{className:"dz-error-message",children:(0,p.jsx)("span",{"data-dz-errormessage":!0})})]})]}),(0,p.jsxs)("a",{href:"#/",className:"remove","data-dz-remove":!0,children:[(0,p.jsx)("i",{className:"glyph-icon simple-icon-trash",style:{fontSize:"14px"}})," "]})]})),headers:{"My-Awesome-Header":"header value"}},g=function(e){(0,a.Z)(t,e);var n=(0,l.Z)(t);function t(){return(0,i.Z)(this,t),n.apply(this,arguments)}return(0,c.Z)(t,[{key:"render",value:function(){var e=this;return(0,p.jsx)(u(),{config:x,djsConfig:(0,s.Z)((0,s.Z)({},m),this.props.dropzoneConfig),eventHandlers:{uploadprogress:function(){return e.props.setFileUploading(!0)},success:function(n){e.props.setFiles([].concat((0,r.Z)(e.props.files),[n])),e.props.setFileUploading(!1)},removedfile:function(n){return e.props.setFiles(e.props.files.filter((function(e){return e.upload.uuid!==n.upload.uuid})))},init:function(n){e.myDropzone=n}}})}}]),t}(o.Component)},6542:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(885),s=(t(6430),t(2632),t(8569),t(8995),t(5033),t(7313)),i=t(6231),c=t(4382),a=t(7338),l=t(1422),o=t(7199),d=t(4105),u=t(595),p=t(7936),h=t(5951),x=t(2588),m=t(2995),g=t(2756),f=t(2213),j=t(7764),v=t(502),b=(t(7623),t(3673)),$=t(7823),N=t(9625),Z=t(4410),y=(t(8803),t(5517),t(9257)),C=t(816),F=t.n(C),T=t(6417),S=function(){var e=s.useContext(Z.FeedbackContext),n=s.useState([]),t=(0,r.Z)(n,2),C=t[0],S=t[1],A=s.useState(0),z=(0,r.Z)(A,2),E=z[0],w=z[1],D=s.useState(""),k=(0,r.Z)(D,2),P=k[0],R=k[1],M=s.useState(!1),I=(0,r.Z)(M,2),L=I[0],_=I[1],q=s.useState({}),O=(0,r.Z)(q,2),U=O[0],Y=O[1],H=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{n&&e.useLoading(!0,"Carregando..."),$.ZP.get("/providers").then((function(n){S(n.data),e.useLoading(!1)}))}catch(t){console.log("erro"),e.useLoading(!1)}},V=function(n){try{e.useLoading(!0,"Aceitando prestador..."),$.ZP.put("/providers/".concat(n),{status:"ACCEPTED"}).then((function(n){e.useLoading(!1),H(!1)}))}catch(t){console.log("erro"),e.useLoading(!1)}},B=function(n){try{e.useLoading(!0,"Recusando prestador..."),$.ZP.put("/providers/".concat(n),{status:"REFUSED"}).then((function(n){e.useLoading(!1),H(!1)}))}catch(t){console.log("erro"),e.useLoading(!1)}},G=function(e){return"ACCEPTED"===e?{label:"Aprovado",color:"success"}:"PENDING"===e?{label:"Aguardando",color:"warning"}:"REFUSED"===e?{label:"Recusado",color:"danger"}:void 0};return s.useEffect((function(){H()}),[]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(c.Z,{children:(0,T.jsxs)(v.F,{xxs:"12",children:[(0,T.jsx)("h1",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:"Prestadores"}),(0,T.jsxs)(c.Z,{children:[(0,T.jsx)(v.F,{xxs:"12",xl:"12",className:"mb-5",children:(0,T.jsx)(a.Z,{style:{width:"100%"},children:(0,T.jsx)(l.Z,{children:(0,T.jsx)(c.Z,{children:(0,T.jsx)(v.F,{xxs:"12",xl:"12",children:(0,T.jsxs)(i.iA,{children:[(0,T.jsx)(i.hr,{children:(0,T.jsxs)(i.Tr,{children:[(0,T.jsx)(i.Th,{style:{width:25},children:"#"}),(0,T.jsx)(i.Th,{style:{width:150},children:"Prestador"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"Telefone"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"E-mail"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"CPF"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"Dt. Nascimento"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"Saldo"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"Cidade"}),(0,T.jsx)(i.Th,{style:{textAlign:"center"},children:"\xdaltimo login"}),(0,T.jsx)(i.Th,{className:"d-flex",style:{alignItems:"center",justifyContent:"right",marginRight:70}})]})}),(0,T.jsx)(i.p3,{children:C.map((function(e){var n,t;return(0,T.jsxs)(i.Tr,{className:"mb-1",id:"services-".concat(e.id),children:[(0,T.jsx)(i.Td,{children:e.id}),(0,T.jsx)(i.Td,{children:e.name}),(0,T.jsx)(i.Td,{className:"text-center",children:e.phone}),(0,T.jsx)(i.Td,{className:"text-center",children:null!==(n=e.email)&&void 0!==n?n:"-"}),(0,T.jsx)(i.Td,{className:"text-center",children:null!==(t=e.cpf)&&void 0!==t?t:"-"}),(0,T.jsx)(i.Td,{className:"text-center",children:F()(e.birth_date).utc(!1).format("DD/MM/YYYY")}),(0,T.jsx)(i.Td,{className:"text-center font-weight-bold",children:(0,y.FA)(e.coins_balance)}),(0,T.jsx)(i.Td,{className:"text-center",children:e.city_name}),(0,T.jsx)(i.Td,{className:"text-center",children:F()(e.last_refresh).utc(!1).format("DD/MM/YYYY HH:mm")}),(0,T.jsx)(i.Td,{style:{textAlign:"center"},children:(0,T.jsx)(o.Z,{className:"highlighter",pill:!0,color:G(e.status).color,children:G(e.status).label})}),(0,T.jsx)(i.Td,{className:"d-flex",style:{alignItems:"center",justifyContent:"right"},children:(0,T.jsxs)(u.Z,{size:"xs",children:[(0,N.rc)("PROVIDERS","COINS_BALANCE",(0,T.jsx)(T.Fragment,{children:"ACCEPTED"===e.status?(0,T.jsxs)(p.Z,{id:"btn2-coins-".concat(e.id),color:"dark",onClick:function(){return function(e){w(e.coins_balance),R(""),_(!0),Y(e)}(e)},children:[(0,T.jsx)("div",{className:"iconsminds-coins",children:" Moedas"}),(0,T.jsx)(b.Z,{id:"btn2-coins-".concat(e.id),text:"Editar Saldo de moedas"})]}):null})),(0,N.rc)("PROVIDERS","APPROVAL",(0,T.jsxs)(T.Fragment,{children:["ACCEPTED"===e.status?(0,T.jsxs)(p.Z,{id:"btn2-refuse-".concat(e.id),color:"danger",onClick:function(){return B(e.id)},children:[(0,T.jsx)("div",{className:"iconsminds-unlike",children:" Recusar"}),(0,T.jsx)(b.Z,{id:"btn2-refuse-".concat(e.id),text:"Recusar"})]}):null,"REFUSED"===e.status?(0,T.jsxs)(p.Z,{id:"btn2-accept-".concat(e.id),color:"success",onClick:function(){return V(e.id)},children:[(0,T.jsx)("div",{className:"iconsminds-like",children:" Aceitar"}),(0,T.jsx)(b.Z,{id:"btn2-accept-".concat(e.id),text:"Aceitar"})]}):null,"PENDING"===e.status?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(p.Z,{id:"btn2-accept-".concat(e.id),color:"success",onClick:function(){return V(e.id)},children:[(0,T.jsx)("div",{className:"iconsminds-like",children:" Aceitar"}),(0,T.jsx)(b.Z,{id:"btn2-accept-".concat(e.id),text:"Aceitar"})]}),(0,T.jsxs)(p.Z,{id:"btn2-refuse-".concat(e.id),color:"danger",onClick:function(){return B(e.id)},children:[(0,T.jsx)("div",{className:"iconsminds-unlike",children:" Recusar"}),(0,T.jsx)(b.Z,{id:"btn2-refuse-".concat(e.id),text:"Recusar"})]})]}):null]}))]})})]})}))})]})})})})})}),(0,T.jsx)(v.F,{xss:"12",className:"text-center  ",children:0===C.length?(0,T.jsx)("small",{children:(0,T.jsx)("strong",{children:"Nenhum registro encontrado"})}):null})]})]})}),(0,T.jsxs)(m.Z,{size:"md",isOpen:L,toggle:function(){return _(!1)},children:[(0,T.jsxs)(g.Z,{children:["Saldo em moedas de ",(0,T.jsx)("b",{children:null===U||void 0===U?void 0:U.name})]}),(0,T.jsx)(f.Z,{children:(0,T.jsxs)("form",{onSubmit:function(n){n&&n.preventDefault(),e.useLoading(!0,"Atualizando saldo em moedas do prestador..."),$.ZP.put("/providers/".concat(U.id,"/coins"),{coins_balance:E,description:P}).then((function(n){e.useSuccess(!0,"Saldo atualizado com sucesso!"),H(!1),_(!1)})).catch((function(n){console.log("erro"),e.useError(!0,"Oops! N\xe3o foi poss\xedvel atualizar o saldo em moedas.")}))},action:"#",children:[(0,T.jsxs)(c.Z,{children:[(0,T.jsx)(v.F,{sm:"12",lg:"12",xs:"12",children:(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(h.Z,{className:"font-weight-bold",for:"descriptionCoins",children:"* Descri\xe7\xe3o"}),(0,T.jsx)(x.Z,{required:!0,className:"form-control",type:"text",id:"descriptionCoins",value:P,onChange:function(e){return R(e.target.value)}})]})}),(0,T.jsx)(v.F,{sm:"12",lg:"12",xs:"12",children:(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(h.Z,{className:"font-weight-bold",for:"currentCoins",children:"* Saldo"}),(0,T.jsx)(x.Z,{required:!0,className:"form-control",type:"number",id:"currentCoins",value:E,onChange:function(e){return w(e.target.value)}})]})})]}),(0,T.jsx)("button",{type:"submit",style:{display:"none"},id:"btnSubmitCoins"})]})}),(0,T.jsxs)(j.Z,{style:{justifyContent:"end"},children:[(0,T.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(){return _(!1)},children:"Fechar"}),(0,T.jsx)("button",{type:"submit",className:"btn btn-success btn-shadow btn-lg ",onClick:function(){return document.querySelector("#btnSubmitCoins").click()},children:"Salvar"})]})]})]})},A=s.memo(S)},5517:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(4621),s=t.n(r);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Erro";s()(n,e,{icon:"error"})}},9257:function(e,n,t){t.d(n,{f_:function(){return r},ky:function(){return c},mQ:function(){return a},FA:function(){return l},yD:function(){return o},nO:function(){return h},HW:function(){return x}});t(7757),t(1881);var r=function(e){return s(e)||i(e)?e:parseFloat(e.toString().replace(/\./g,"").replace(/\,/g,"."))},s=function(e){return Number(e)===e&&e%1===0},i=function(e){return Number(e)===e&&e%1!==0},c=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e||(e=0),n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var r=(e=new String(Number(e))).length;return 1==r?e=e.replace(/(\d)/,"0,0$1"):2==r?e=e.replace(/(\d)/,"0,$1"):r>2&&r<6?e=e.replace(/(\d{2})$/,",$1"):r>=6&&r<9?e=e.replace(/(\d{3})(\d{2})$/,".$1,$2"):r>=9&&(e=e.replace(/(\d{3})(\d{3})(\d{2})$/,".$1.$2,$3")),"".concat(t?"".concat(t," "):"").concat(e)},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cpf",t=d(e);return parseInt(e)||s(t)||i(t)?"CPF"===n.toUpperCase()?u(t.toString().substr(0,11)):p(t.toString().substr(0,14)):e.toString().substr(0,14)},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0);var t=e<0;n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var r=(e=new String(Number(e))).length;return 1==r||2==r||3==r?e=e.replace(/(\d)/,"$1"):4==r?e=e.replace(/(\d{1})(\d{3})$/,"$1.$2"):5==r?e=e.replace(/(\d{2})(\d{3})$/,"$1.$2"):6==r?e=e.replace(/(\d{3})(\d{3})$/,"$1.$2"):7==r?e=e.replace(/(\d{1})(\d{3})(\d{3})$/,"$1.$2.$3"):8==r?e=e.replace(/(\d{2})(\d{3})(\d{3})$/,"$1.$2.$3"):9==r?e=e.replace(/(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3"):10==r?e=e.replace(/(\d{1})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):11==r?e=e.replace(/(\d{2})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):12==r?e=e.replace(/(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):r>12&&(e=e.replace(/(\d)(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4.$5")),"".concat(t?"- ":"").concat(e)},o=function(e){return 10===(e=d(e)).length?e.replace(/(\d{2})(\d{4})(\d{4})/g,"($1) $2-$3"):e.substr(0,11).replace(/(\d{2})(\d{1})(\d{4})(\d{4})/g,"($1) $2 $3-$4")};function d(e){return"string"!==typeof e&&(e="".concat(e)),e.replace(/\D/g,"")}function u(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}function p(e){return e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5")}function h(e){var n,t=0;if("00000000000"==(e=d(e)))return!1;for(var r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r))*(11-r);if(10!=(n=10*t%11)&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return!1;t=0;for(var s=1;s<=10;s++)t+=parseInt(e.substring(s-1,s))*(12-s);return 10!=(n=10*t%11)&&11!=n||(n=0),n==parseInt(e.substring(10,11))}function x(e){if(""==(e=e.replace(/[^\d]+/g,"")))return!1;if(14!=e.length)return!1;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var n=e.length-2,t=e.substring(0,n),r=e.substring(n),s=0,i=n-7,c=n;c>=1;c--)s+=t.charAt(n-c)*i--,i<2&&(i=9);var a=s%11<2?0:11-s%11;if(a!=r.charAt(0))return!1;n+=1,t=e.substring(0,n),s=0,i=n-7;for(var l=n;l>=1;l--)s+=t.charAt(n-l)*i--,i<2&&(i=9);return(a=s%11<2?0:11-s%11)==r.charAt(1)}},7199:function(e,n,t){var r=t(7462),s=t(3366),i=t(7313),c=t(5192),a=t.n(c),l=t(6123),o=t.n(l),d=t(8345),u=["className","cssModule","color","innerRef","pill","tag"],p={color:a().string,pill:a().bool,tag:d.iC,innerRef:a().oneOfType([a().object,a().func,a().string]),children:a().node,className:a().string,cssModule:a().object},h=function(e){var n=e.className,t=e.cssModule,c=e.color,a=e.innerRef,l=e.pill,p=e.tag,h=(0,s.Z)(e,u),x=(0,d.mx)(o()(n,"badge","badge-"+c,!!l&&"badge-pill"),t);return h.href&&"span"===p&&(p="a"),i.createElement(p,(0,r.Z)({},h,{className:x,ref:a}))};h.propTypes=p,h.defaultProps={color:"secondary",pill:!1,tag:"span"},n.Z=h},595:function(e,n,t){var r=t(7462),s=t(3366),i=t(7313),c=t(5192),a=t.n(c),l=t(6123),o=t.n(l),d=t(8345),u=["className","cssModule","size","vertical","tag"],p={tag:d.iC,"aria-label":a().string,className:a().string,cssModule:a().object,role:a().string,size:a().string,vertical:a().bool},h=function(e){var n=e.className,t=e.cssModule,c=e.size,a=e.vertical,l=e.tag,p=(0,s.Z)(e,u),h=(0,d.mx)(o()(n,!!c&&"btn-group-"+c,a?"btn-group-vertical":"btn-group"),t);return i.createElement(l,(0,r.Z)({},p,{className:h}))};h.propTypes=p,h.defaultProps={tag:"div",role:"group"},n.Z=h}}]);