"use strict";(self.webpackChunkonsides_panel=self.webpackChunkonsides_panel||[]).push([[320],{502:function(e,n,r){r.d(n,{F:function(){return o}});var t=r(1413),s=(r(7313),r(587)),a=r(6417),o=function(e){return(0,a.jsx)(s.Z,(0,t.Z)((0,t.Z)({},e),{},{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))}},320:function(e,n,r){r.r(n);var t=r(1413),s=r(5861),a=r(885),o=r(7757),i=r.n(o),l=r(7313),c=r(4382),u=r(7338),d=r(4105),f=r(5951),p=r(7936),m=r(2995),h=r(2756),v=r(2213),g=r(2588),$=r(7764),b=r(3830),x=r(8303),j=r(7410),N=r(8796),Z=r(502),w=r(7487),S=r(3519),y=r(9625),A=r(7823),P=r(6105),C=r(816),k=r.n(C),O=r(5517),F=r(5379),_=r(6417);n.default=function(){var e=(0,P.rV)(),n=(0,b.k6)(),r=(0,l.useState)(""),o=(0,a.Z)(r,2),C=o[0],I=o[1],D=(0,l.useState)(""),E=(0,a.Z)(D,2),H=E[0],z=E[1],L=(0,l.useState)(""),G=(0,a.Z)(L,2),J=G[0],R=G[1],U=(0,l.useState)(""),T=(0,a.Z)(U,2),V=T[0],W=T[1],Y=(0,l.useState)(!1),q=(0,a.Z)(Y,2),M=q[0],Q=q[1],B=(0,l.useState)(!1),K=(0,a.Z)(B,2),X=K[0],ee=K[1],ne=(0,l.useState)(!1),re=(0,a.Z)(ne,2),te=re[0],se=re[1],ae={email:C,password:H},oe=function(){var e=(0,s.Z)(i().mark((function e(){var r,s,a,o,l,c,u,d,f,p,m,h,v,g=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>0&&void 0!==g[0]?g[0]:null,e.prev=1,s={},Q(!0),e.next=6,A.ZP.post("/login",{email:C,password:null!==r&&void 0!==r?r:H}).then((function(e){return e.data}));case 6:return s=e.sent,(0,y.lx)(s),(0,S.Fi)(s),e.next=11,A.ZP.get("/login/acl");case 11:a=e.sent,(0,y.lx)((0,t.Z)((0,t.Z)({},s),{},{permissions:btoa(JSON.stringify(a.data))})),(0,S.Fi)((0,t.Z)((0,t.Z)({},s),{},{permissions:btoa(JSON.stringify(a.data))})),n.push("/app"),document.location.href="/app",e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&null!==(o=e.t0.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.errors&&(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.errors.length)>0&&("FORCE_PASSWORD_CHANGE"===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(f=d.data)||void 0===f?void 0:f.errors[0].field)?ee(!0):null!==e.t0&&void 0!==e.t0&&null!==(p=e.t0.response)&&void 0!==p&&null!==(m=p.data)&&void 0!==m&&m.errors[0].message.includes("E_INVALID_AUTH_UID")?(0,O.Z)("Usu\xe1rio n\xe3o localizado","N\xe3o foi poss\xedvel realizar login"):null!==e.t0&&void 0!==e.t0&&null!==(h=e.t0.response)&&void 0!==h&&null!==(v=h.data)&&void 0!==v&&v.errors[0].message.includes("E_INVALID_AUTH_PASSWORD")&&(0,O.Z)("Senha inv\xe1lida","N\xe3o foi poss\xedvel realizar login"));case 21:Q(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)(c.Z,{className:"h-100",children:[(0,_.jsx)(Z.F,{xxs:"12",md:"4",className:"mx-auto my-auto",children:(0,_.jsx)(u.Z,{className:"auth-card",children:(0,_.jsxs)("div",{className:"form-side p-5",children:[(0,_.jsx)(x.OL,{to:"/",className:"white text-center",style:{display:"block"},children:null!==e&&void 0!==e&&e.LOGO_LOGIN_PAGE?(0,_.jsx)("img",{src:"".concat(A.v2,"/public?file=").concat(e.LOGO_LOGIN_PAGE,"&has_download=false&d=").concat(k()().format("YYYYMMDDHHmmss")),style:{height:55},className:"mb-5"}):(0,_.jsx)("img",{src:F,style:{height:55},className:"mb-5"})}),(0,_.jsx)(j.J9,{initialValues:ae,onSubmit:function(){return oe()},children:function(e){var n=e.errors,r=e.touched;return(0,_.jsxs)(j.l0,{className:"av-tooltip tooltip-label-bottom",children:[(0,_.jsxs)(d.Z,{className:"form-group has-float-label",children:[(0,_.jsx)(f.Z,{children:"E-mail"}),(0,_.jsx)(j.gN,{className:"form-control",name:"email",value:C,onChange:function(e){return I(e.target.value)},validate:function(){return(0,w.oH)(C)}}),n.email&&r.email&&(0,_.jsx)("div",{className:"invalid-feedback d-block",children:n.email})]}),(0,_.jsxs)(d.Z,{className:"form-group has-float-label mb-0 ",children:[(0,_.jsx)(f.Z,{children:"Senha"}),(0,_.jsx)(j.gN,{className:"form-control",type:"password",name:"password",value:H,onChange:function(e){return z(e.target.value)},validate:function(){return(0,w.uo)(H)}}),n.password&&r.password&&(0,_.jsx)("div",{className:"invalid-feedback d-block",children:n.password})]}),(0,_.jsx)("div",{className:"d-flex justify-center text-left align-items-center mb-0 mt-1 pt-0",children:(0,_.jsx)(x.OL,{to:"/usuario/recuperar-senha",style:{flex:1},children:"Esqueceu sua senha?"})}),(0,_.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,_.jsxs)(p.Z,{color:"ligth",className:"mt-4 ml-5 mr-5 mb-3 p-3 btn-shadow btn-multiple-state btn-block btn btn-lg ".concat(M?"show-spinner btn-primary":"btn-outline-primary"),size:"lg",children:[(0,_.jsxs)("span",{className:"spinner d-inline-block",children:[(0,_.jsx)("span",{className:"bounce1"}),(0,_.jsx)("span",{className:"bounce2"}),(0,_.jsx)("span",{className:"bounce3"})]}),(0,_.jsx)("span",{className:"label",children:"ENTRAR"})]})})]})}})]})})}),(0,_.jsxs)(m.Z,{backdrop:!0,size:"md",isOpen:X,toggle:function(){return te?null:ee(!1)},children:[(0,_.jsx)(h.Z,{style:{backgroundColor:"orange"},children:"Atualize sua senha"}),(0,_.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),function(){if(J!==V)return(0,O.Z)("Confirme corretamente a sua nova senha!","Oops!");se(!0),A.ZP.put("/login/recovery/save",{email:C,password:H,newPassword:J}).then((function(e){se(!1),ee(!1),z(J),N.fn.success("Sua nova senha foi definida com sucesso!","Senha definida com sucesso!",3e3,null,null,""),oe(J)})).catch((function(e){return console.log(e),se(!1),(0,O.Z)("Oops! N\xe3o foi poss\xedvel salvar sua nova senha!","Tente novamente")}))}()},children:[(0,_.jsx)(v.Z,{children:(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(Z.F,{sm:"12",children:(0,_.jsxs)(d.Z,{children:[(0,_.jsx)(f.Z,{for:"newPassword",children:(0,_.jsx)("strong",{children:"Nova senha"})}),(0,_.jsx)(g.Z,{required:!0,value:J,onChange:function(e){R(e.target.value)},className:"form-control",type:"password",id:"newPassword"})]})}),(0,_.jsx)(Z.F,{sm:"12",children:(0,_.jsxs)(d.Z,{children:[(0,_.jsx)(f.Z,{for:"confirNewPassword",children:(0,_.jsx)("strong",{children:"Confirme sua nova senha"})}),(0,_.jsx)(g.Z,{required:!0,value:V,onChange:function(e){W(e.target.value)},className:"form-control",type:"password",id:"confirNewPassword"})]})})]})}),(0,_.jsxs)($.Z,{children:[(0,_.jsx)("button",{disabled:te,type:"button",class:"btn btn-light btn-sm",onClick:function(){return ee(!1)},children:"Cancelar"}),(0,_.jsx)("button",{disabled:te,type:"submit",class:"btn btn-success btn-shadow btn-block",children:te?"Atualizando...":"Atualizar"})]})]})]})]})}},5517:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(4621),s=r.n(t);function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Erro";s()(n,e,{icon:"error"})}},9257:function(e,n,r){r.d(n,{f_:function(){return t},ky:function(){return o},mQ:function(){return i},FA:function(){return l},yD:function(){return c},nO:function(){return p},HW:function(){return m}});r(7757),r(1881);var t=function(e){return s(e)||a(e)?e:parseFloat(e.toString().replace(/\./g,"").replace(/\,/g,"."))},s=function(e){return Number(e)===e&&e%1===0},a=function(e){return Number(e)===e&&e%1!==0},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e||(e=0),n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var t=(e=new String(Number(e))).length;return 1==t?e=e.replace(/(\d)/,"0,0$1"):2==t?e=e.replace(/(\d)/,"0,$1"):t>2&&t<6?e=e.replace(/(\d{2})$/,",$1"):t>=6&&t<9?e=e.replace(/(\d{3})(\d{2})$/,".$1,$2"):t>=9&&(e=e.replace(/(\d{3})(\d{3})(\d{2})$/,".$1.$2,$3")),"".concat(r?"".concat(r," "):"").concat(e)},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cpf",r=u(e);return parseInt(e)||s(r)||a(r)?"CPF"===n.toUpperCase()?d(r.toString().substr(0,11)):f(r.toString().substr(0,14)):e.toString().substr(0,14)},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=0),n&&(e=parseFloat(e).toFixed(2)),e=e.toString().replace(/\D/g,"");var r=(e=new String(Number(e))).length;return 1==r||2==r||3==r?e=e.replace(/(\d)/,"$1"):4==r?e=e.replace(/(\d{1})(\d{3})$/,"$1.$2"):5==r?e=e.replace(/(\d{2})(\d{3})$/,"$1.$2"):6==r?e=e.replace(/(\d{3})(\d{3})$/,"$1.$2"):7==r?e=e.replace(/(\d{1})(\d{3})(\d{3})$/,"$1.$2.$3"):8==r?e=e.replace(/(\d{2})(\d{3})(\d{3})$/,"$1.$2.$3"):9==r?e=e.replace(/(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3"):10==r?e=e.replace(/(\d{1})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):11==r?e=e.replace(/(\d{2})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):12==r?e=e.replace(/(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4"):r>12&&(e=e.replace(/(\d)(\d{3})(\d{3})(\d{3})(\d{3})$/,"$1.$2.$3.$4.$5")),e},c=function(e){return 10===(e=u(e)).length?e.replace(/(\d{2})(\d{4})(\d{4})/g,"($1) $2-$3"):e.substr(0,11).replace(/(\d{2})(\d{1})(\d{4})(\d{4})/g,"($1) $2 $3-$4")};function u(e){return"string"!==typeof e&&(e="".concat(e)),e.replace(/\D/g,"")}function d(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}function f(e){return e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5")}function p(e){var n,r=0;if("00000000000"==(e=u(e)))return!1;for(var t=1;t<=9;t++)r+=parseInt(e.substring(t-1,t))*(11-t);if(10!=(n=10*r%11)&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return!1;r=0;for(var s=1;s<=10;s++)r+=parseInt(e.substring(s-1,s))*(12-s);return 10!=(n=10*r%11)&&11!=n||(n=0),n==parseInt(e.substring(10,11))}function m(e){if(""==(e=e.replace(/[^\d]+/g,"")))return!1;if(14!=e.length)return!1;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var n=e.length-2,r=e.substring(0,n),t=e.substring(n),s=0,a=n-7,o=n;o>=1;o--)s+=r.charAt(n-o)*a--,a<2&&(a=9);var i=s%11<2?0:11-s%11;if(i!=t.charAt(0))return!1;n+=1,r=e.substring(0,n),s=0,a=n-7;for(var l=n;l>=1;l--)s+=r.charAt(n-l)*a--,a<2&&(a=9);return(i=s%11<2?0:11-s%11)==t.charAt(1)}},7487:function(e,n,r){r.d(n,{oH:function(){return s},cy:function(){return a},uo:function(){return o}});var t=r(9257),s=function(e){var n;return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(n="Por favor, informe um e-mail v\xe1lido"),n},a=function(e,n){var r=!1;return"CPF"===n?e?(0,t.nO)(e)||(r="Por favor, informe um CPF v\xe1lido"):r="CPF \xe9 obrigat\xf3rio":e?(0,t.HW)(e)||(r="Por favor, informe um CNPJ v\xe1lido"):r="CNPJ \xe9 obrigat\xf3rio",r},o=function(e){var n;return e?e.length<3&&(n="Sua senha precisa ter no m\xednimo 3 caracteres"):n="Informe sua senha",n}},5379:function(e,n,r){e.exports=r.p+"static/media/logo.475e93e616481b37e77a.png"}}]);